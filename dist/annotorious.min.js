function g(a){throw a;}var i=void 0,j=!0,m=null,n=!1;function p(){return function(){}}function r(a){return function(){return this[a]}}function aa(a){return function(){return a}}var s,t=this;function ba(a,b){var c=a.split("."),d=t;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&ca(b)?d[f]=b:d=d[f]?d[f]:d[f]={}}function da(){}function ea(a){a.pb=function(){return a.Bd?a.Bd:a.Bd=new a}}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ca(a){return a!==i}function ga(a){return"array"==fa(a)}function ha(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function u(a){return"string"==typeof a}function v(a){return"function"==fa(a)}function ia(a){var b=typeof a;return"object"==b&&a!=m||"function"==b}function ja(a){return a[ka]||(a[ka]=++la)}var ka="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),la=0;
function ma(a,b,c){return a.call.apply(a.bind,arguments)}function na(a,b,c){a||g(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function oa(a,b,c){oa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ma:na;return oa.apply(m,arguments)}
function pa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var qa=Date.now||function(){return+new Date};function z(a,b){function c(){}c.prototype=b.prototype;a.K=b.prototype;a.prototype=new c;a.prototype.constructor=a};function ra(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function sa(a){if(!ta.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ua,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(va,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(wa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(xa,"&quot;"));return a}var ua=/&/g,va=/</g,wa=/>/g,xa=/\"/g,ta=/[&<>\"]/;function ya(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};var B=Array.prototype,za=B.indexOf?function(a,b,c){return B.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:0>c?Math.max(0,a.length+c):c;if(u(a))return!u(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},C=B.forEach?function(a,b,c){B.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=u(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)},Aa=B.filter?function(a,b,c){return B.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],e=0,h=u(a)?a.split(""):
a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(c,l,k,a)&&(f[e++]=l)}return f},Ba=B.map?function(a,b,c){return B.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),e=u(a)?a.split(""):a,h=0;h<d;h++)h in e&&(f[h]=b.call(c,e[h],h,a));return f},Ca=B.every?function(a,b,c){return B.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=u(a)?a.split(""):a,e=0;e<d;e++)if(e in f&&!b.call(c,f[e],e,a))return n;return j};
function Da(a,b){var c;a:{c=a.length;for(var d=u(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(i,d[f],f,a)){c=f;break a}c=-1}return 0>c?m:u(a)?a.charAt(c):a[c]}function Ea(a,b){return 0<=za(a,b)}function D(a,b){var c=za(a,b);0<=c&&B.splice.call(a,c,1)}function Fa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ga(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(ga(d)||(f=ha(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var e=a.length,h=d.length,k=0;k<h;k++)a[e+k]=d[k];else a.push(d)}}function Ha(a,b,c){return 2>=arguments.length?B.slice.call(a,b):B.slice.call(a,b,c)}function Ia(a,b){return a>b?1:a<b?-1:0};var Ja,Ka,La,Ma,Na;function Oa(){return t.navigator?t.navigator.userAgent:m}function Pa(){return t.navigator}Ma=La=Ka=Ja=n;var Qa;if(Qa=Oa()){var Ra=Pa();Ja=0==Qa.indexOf("Opera");Ka=!Ja&&-1!=Qa.indexOf("MSIE");La=!Ja&&-1!=Qa.indexOf("WebKit");Ma=!Ja&&!La&&"Gecko"==Ra.product}var Sa=Ja,E=Ka,F=Ma,G=La,Ta=Pa();Na=-1!=(Ta&&Ta.platform||"").indexOf("Mac");var Ua=!!Pa()&&-1!=(Pa().appVersion||"").indexOf("X11"),Va;
a:{var Wa="",Xa;if(Sa&&t.opera)var Ya=t.opera.version,Wa="function"==typeof Ya?Ya():Ya;else if(F?Xa=/rv\:([^\);]+)(\)|;)/:E?Xa=/MSIE\s+([^\);]+)(\)|;)/:G&&(Xa=/WebKit\/(\S+)/),Xa)var Za=Xa.exec(Oa()),Wa=Za?Za[1]:"";if(E){var $a,ab=t.document;$a=ab?ab.documentMode:i;if($a>parseFloat(Wa)){Va=String($a);break a}}Va=Wa}var bb={};
function I(a){var b;if(!(b=bb[a])){b=0;for(var c=ra(String(Va)).split("."),d=ra(String(a)).split("."),f=Math.max(c.length,d.length),e=0;0==b&&e<f;e++){var h=c[e]||"",k=d[e]||"",l=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var w=l.exec(h)||["","",""],y=q.exec(k)||["","",""];if(0==w[0].length&&0==y[0].length)break;b=((0==w[1].length?0:parseInt(w[1],10))<(0==y[1].length?0:parseInt(y[1],10))?-1:(0==w[1].length?0:parseInt(w[1],10))>(0==y[1].length?0:parseInt(y[1],10))?1:0)||((0==w[2].length)<
(0==y[2].length)?-1:(0==w[2].length)>(0==y[2].length)?1:0)||(w[2]<y[2]?-1:w[2]>y[2]?1:0)}while(0==b)}b=bb[a]=0<=b}return b}var cb={};function db(a){return cb[a]||(cb[a]=E&&!!document.documentMode&&document.documentMode>=a)};var eb,fb=!E||db(9);!F&&!E||E&&db(9)||F&&I("1.9.1");E&&I("9");var gb=E||Sa||G;function hb(a){a=a.className;return u(a)&&a.match(/\S+/g)||[]}function ib(a,b){var c=hb(a),d=Ha(arguments,1),f=c.length+d.length;jb(c,d);a.className=c.join(" ");return c.length==f}function kb(a,b){var c=hb(a),d=Ha(arguments,1),f=lb(c,d);a.className=f.join(" ");return f.length==c.length-d.length}function jb(a,b){for(var c=0;c<b.length;c++)Ea(a,b[c])||a.push(b[c])}function lb(a,b){return Aa(a,function(a){return!Ea(b,a)})}
function mb(a,b,c){var d=hb(a);u(b)?D(d,b):ga(b)&&(d=lb(d,b));u(c)&&!Ea(d,c)?d.push(c):ga(c)&&jb(d,c);a.className=d.join(" ")};function J(a,b){this.x=ca(a)?a:0;this.y=ca(b)?b:0};function nb(a,b){this.width=a;this.height=b}nb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};nb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function ob(a,b){for(var c in a)b.call(i,a[c],c,a)}var pb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qb(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var e=0;e<pb.length;e++)c=pb[e],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function rb(a){return a?new sb(tb(a)):eb||(eb=new sb)}function ub(){var a,b,c,d;a=document;if(a.querySelectorAll&&a.querySelector)return a.querySelectorAll(".openseadragon-container");if(a.getElementsByClassName){var f=a.getElementsByClassName("openseadragon-container");return f}f=a.getElementsByTagName("*");d={};for(b=c=0;a=f[b];b++){var e=a.className;"function"==typeof e.split&&Ea(e.split(/\s+/),"openseadragon-container")&&(d[c++]=a)}d.length=c;return d}
function vb(a,b){ob(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in wb?a.setAttribute(wb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var wb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function xb(a,b,c){var d=arguments,f=document,e=d[0],h=d[1];if(!fb&&h&&(h.name||h.type)){e=["<",e];h.name&&e.push(' name="',sa(h.name),'"');if(h.type){e.push(' type="',sa(h.type),'"');var k={};qb(k,h);delete k.type;h=k}e.push(">");e=e.join("")}e=f.createElement(e);h&&(u(h)?e.className=h:ga(h)?ib.apply(m,[e].concat(h)):vb(e,h));2<d.length&&yb(f,e,d,2);return e}
function yb(a,b,c,d){function f(c){c&&b.appendChild(u(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var e=c[d];if(ha(e)&&!(ia(e)&&0<e.nodeType)){var h;a:{if(e&&"number"==typeof e.length){if(ia(e)){h="function"==typeof e.item||"string"==typeof e.item;break a}if(v(e)){h="function"==typeof e.item;break a}}h=n}C(h?Fa(e):e,f)}else f(e)}}function zb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Ab(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Bb(a){return ia(a)&&1==a.nodeType}
function Cb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function tb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function Db(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,"number"==typeof a&&0<=a&&32768>a):n}function sb(a){this.M=a||t.document||document}s=sb.prototype;s.pd=rb;
s.d=function(a){return u(a)?this.M.getElementById(a):a};s.ga=vb;s.createElement=function(a){return this.M.createElement(a)};s.createTextNode=function(a){return this.M.createTextNode(a)};function Eb(a){var b=a.M,a=!G?b.documentElement:b.body,b=b.parentWindow||b.defaultView;return new J(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}s.appendChild=function(a,b){a.appendChild(b)};s.append=function(a,b){yb(tb(a),a,arguments,1)};s.contains=Cb;var Fb;Fb=aa(j);/*
 Portions of this code are from the Dojo Toolkit, received by
 The Closure Library Authors under the BSD license. All other code is
 Copyright 2005-2009 The Closure Library Authors. All Rights Reserved.

The "New" BSD License:

Copyright (c) 2005-2009, The Dojo Foundation
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice, this
    list of conditions and the following disclaimer.
 Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.
 Neither the name of the Dojo Foundation nor the names of its contributors
    may be used to endorse or promote products derived from this software
    without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
function Gb(a,b){var c=b||[];a&&c.push(a);return c}var Hb=G&&"BackCompat"==document.compatMode,Ib=document.firstChild.children?"children":"childNodes",Jb=n;
function Kb(a){function b(){0<=q&&(x.id=c(q,A).replace(/\\/g,""),q=-1);if(0<=w){var a=w==A?m:c(w,A);0>">~+".indexOf(a)?x.H=a:x.Qb=a;w=-1}0<=l&&(x.ca.push(c(l+1,A).replace(/\\/g,"")),l=-1)}function c(b,c){return ra(a.slice(b,c))}for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",d=[],f=-1,e=-1,h=-1,k=-1,l=-1,q=-1,w=-1,y="",H="",S,A=0,Me=a.length,x=m,M=m;y=H,H=a.charAt(A),A<Me;A++)if("\\"!=y)if(x||(S=A,x={Ua:m,Ba:[],Ab:[],ca:[],H:m,Qb:m,id:m,rc:function(){return Jb?this.he:this.H}},w=A),0<=f)if("]"==
H){M.nc?M.yc=c(h||f+1,A):M.nc=c(f+1,A);if((f=M.yc)&&('"'==f.charAt(0)||"'"==f.charAt(0)))M.yc=f.slice(1,-1);x.Ab.push(M);M=m;f=h=-1}else"="==H&&(h=0<="|~^$*".indexOf(y)?y:"",M.type=h+H,M.nc=c(f+1,A-h.length),h=A+1);else 0<=e?")"==H&&(0<=k&&(M.value=c(e+1,A)),k=e=-1):"#"==H?(b(),q=A+1):"."==H?(b(),l=A):":"==H?(b(),k=A):"["==H?(b(),f=A,M={}):"("==H?(0<=k&&(M={name:c(k+1,A),value:m},x.Ba.push(M)),e=A):" "==H&&y!=H&&(b(),0<=k&&x.Ba.push({name:c(k+1,A)}),x.Ed=x.Ba.length||x.Ab.length||x.ca.length,x.ze=
x.Ua=c(S,A),x.he=x.H=x.Qb?m:x.H||"*",x.H&&(x.H=x.H.toUpperCase()),d.length&&d[d.length-1].Qb&&(x.Ad=d.pop(),x.Ua=x.Ad.Ua+" "+x.Ua),d.push(x),x=m);return d}function Lb(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}}function Mb(a){return 1==a.nodeType}function Nb(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==b?a.style.cssText||"":(Jb?a.getAttribute(b):a.getAttribute(b,2))||""}
var Ob={"*=":function(a,b){return function(c){return 0<=Nb(c,a).indexOf(b)}},"^=":function(a,b){return function(c){return 0==Nb(c,a).indexOf(b)}},"$=":function(a,b){return function(c){c=" "+Nb(c,a);return c.lastIndexOf(b)==c.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+Nb(b,a)+" ").indexOf(c)}},"|=":function(a,b){b=" "+b;return function(c){c=" "+Nb(c,a);return c==b||0==c.indexOf(b+"-")}},"=":function(a,b){return function(c){return Nb(c,a)==b}}},Pb="undefined"==
typeof document.firstChild.nextElementSibling,Qb=!Pb?"nextElementSibling":"nextSibling",Rb=!Pb?"previousElementSibling":"previousSibling",Sb=Pb?Mb:Fb;function Tb(a){for(;a=a[Rb];)if(Sb(a))return n;return j}function Ub(a){for(;a=a[Qb];)if(Sb(a))return n;return j}function Vb(a){var b=a.parentNode,c=0,d=b[Ib],f=a._i||-1,e=b._l||-1;if(!d)return-1;d=d.length;if(e==d&&0<=f&&0<=e)return f;b._l=d;f=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[Qb])Sb(b)&&(b._i=++c,a===b&&(f=c));return f}
function Wb(a){return!(Vb(a)%2)}function Xb(a){return Vb(a)%2}
var Zb={checked:function(){return function(a){return a.checked||a.attributes.checked}},"first-child":function(){return Tb},"last-child":function(){return Ub},"only-child":function(){return function(a){return!Tb(a)||!Ub(a)?n:j}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;if(1===c||3==c)return n}return j}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},
not:function(a,b){var c=Kb(b)[0],d={D:1};"*"!=c.H&&(d.H=1);c.ca.length||(d.ca=1);var f=Yb(c,d);return function(a){return!f(a)}},"nth-child":function(a,b){if("odd"==b)return Xb;if("even"==b)return Wb;if(-1!=b.indexOf("n")){var c=b.split("n",2),d=c[0]?"-"==c[0]?-1:parseInt(c[0],10):1,f=c[1]?parseInt(c[1],10):0,e=0,h=-1;0<d?0>f?f=f%d&&d+f%d:0<f&&(f>=d&&(e=f-f%d),f%=d):0>d&&(d*=-1,0<f&&(h=f,f%=d));if(0<d)return function(a){a=Vb(a);return a>=e&&(0>h||a<=h)&&a%d==f};b=f}var k=parseInt(b,10);return function(a){return Vb(a)==
k}}},$b=E?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(c){return Jb?c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}};
function Yb(a,b){if(!a)return Fb;var b=b||{},c=m;b.D||(c=Lb(c,Mb));b.H||"*"!=a.H&&(c=Lb(c,function(b){return b&&b.tagName==a.rc()}));b.ca||C(a.ca,function(a,b){var e=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");c=Lb(c,function(a){return e.test(a.className)});c.count=b});b.Ba||C(a.Ba,function(a){var b=a.name;Zb[b]&&(c=Lb(c,Zb[b](b,a.value)))});b.Ab||C(a.Ab,function(a){var b,e=a.nc;a.type&&Ob[a.type]?b=Ob[a.type](e,a.yc):e.length&&(b=$b(e));b&&(c=Lb(c,b))});b.id||a.id&&(c=Lb(c,function(b){return!!b&&b.id==a.id}));
c||"default"in b||(c=Fb);return c}var ac={};
function bc(a){var b=ac[a.Ua];if(b)return b;var c=a.Ad,c=c?c.Qb:"",d=Yb(a,{D:1}),f="*"==a.H,e=document.getElementsByClassName;if(c)if(e={D:1},f&&(e.H=1),d=Yb(a,e),"+"==c)var h=d,b=function(a,b,c){for(;a=a[Qb];)if(!Pb||Mb(a)){(!c||cc(a,c))&&h(a)&&b.push(a);break}return b};else if("~"==c)var k=d,b=function(a,b,c){for(a=a[Qb];a;){if(Sb(a)){if(c&&!cc(a,c))break;k(a)&&b.push(a)}a=a[Qb]}return b};else{if(">"==c)var l=d,l=l||Fb,b=function(a,b,c){for(var d=0,f=a[Ib];a=f[d++];)Sb(a)&&((!c||cc(a,c))&&l(a,d))&&
b.push(a);return b}}else if(a.id)d=!a.Ed&&f?Fb:Yb(a,{D:1,id:1}),b=function(b,c){var f=rb(b).d(a.id),e;if(e=f&&d(f))if(!(e=9==b.nodeType)){for(e=f.parentNode;e&&e!=b;)e=e.parentNode;e=!!e}if(e)return Gb(f,c)};else if(e&&/\{\s*\[native code\]\s*\}/.test(String(e))&&a.ca.length&&!Hb)var d=Yb(a,{D:1,ca:1,id:1}),q=a.ca.join(" "),b=function(a,b){for(var c=Gb(0,b),f,e=0,h=a.getElementsByClassName(q);f=h[e++];)d(f,a)&&c.push(f);return c};else!f&&!a.Ed?b=function(b,c){for(var d=Gb(0,c),f,e=0,h=b.getElementsByTagName(a.rc());f=
h[e++];)d.push(f);return d}:(d=Yb(a,{D:1,H:1,id:1}),b=function(b,c){for(var f=Gb(0,c),e,h=0,k=b.getElementsByTagName(a.rc());e=k[h++];)d(e,b)&&f.push(e);return f});return ac[a.Ua]=b}var dc={},ec={};function fc(a){var b=Kb(ra(a));if(1==b.length){var c=bc(b[0]);return function(a){if(a=c(a,[]))a.Pb=j;return a}}return function(a){for(var a=Gb(a),c,e,h=b.length,k,l,q=0;q<h;q++){l=[];c=b[q];e=a.length-1;0<e&&(k={},l.Pb=j);e=bc(c);for(var w=0;c=a[w];w++)e(c,l,k);if(!l.length)break;a=l}return l}}
var gc=!!document.querySelectorAll&&(!G||I("526"));
function hc(a,b){if(gc){var c=ec[a];if(c&&!b)return c}if(c=dc[a])return c;var c=a.charAt(0),d=-1==a.indexOf(" ");0<=a.indexOf("#")&&d&&(b=j);if(gc&&!b&&-1==">~+".indexOf(c)&&(!E||-1==a.indexOf(":"))&&!(Hb&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf("|=")){var f=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return ec[a]=function(b){try{9==b.nodeType||d||g("");var c=b.querySelectorAll(f);E?c.Td=j:c.Pb=j;return c}catch(e){return hc(a,j)(b)}}}var e=a.split(/\s*,\s*/);return dc[a]=
2>e.length?fc(a):function(a){for(var b=0,c=[],d;d=e[b++];)c=c.concat(fc(d)(a));return c}}var ic=0,jc=E?function(a){return Jb?a.getAttribute("_uid")||a.setAttribute("_uid",++ic)||ic:a.uniqueID}:function(a){return a._uid||(a._uid=++ic)};function cc(a,b){if(!b)return 1;var c=jc(a);return!b[c]?b[c]=1:0}
function kc(a){if(a&&a.Pb)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;ic++;if(E&&Jb){var c=ic+"";a[0].setAttribute("_zipIdx",c);for(var d=1,f;f=a[d];d++)a[d].getAttribute("_zipIdx")!=c&&b.push(f),f.setAttribute("_zipIdx",c)}else if(E&&a.Td)try{for(d=1;f=a[d];d++)Mb(f)&&b.push(f)}catch(e){}else{a[0]&&(a[0]._zipIdx=ic);for(d=1;f=a[d];d++)a[d]._zipIdx!=ic&&b.push(f),f._zipIdx=ic}return b}
function K(a,b){if(!a)return[];if(a.constructor==Array)return a;if(!u(a))return[a];if(u(b)&&(b=u(b)?document.getElementById(b):b,!b))return[];var b=b||document,c=b.ownerDocument||b.documentElement;Jb=b.contentType&&"application/xml"==b.contentType||Sa&&(b.doctype||"[object XMLDocument]"==c.toString())||!!c&&(E?c.xml:b.xmlVersion||c.xmlVersion);return(c=hc(a)(b))&&c.Pb?c:kc(c)}K.Ba=Zb;ba("goog.dom.query",K);ba("goog.dom.query.pseudos",K.Ba);var lc=!E||db(9),mc=!E||db(9),nc=E&&!I("9");!G||I("528");F&&I("1.9b")||E&&I("8")||Sa&&I("9.5")||G&&I("528");F&&!I("8")||E&&I("9");function oc(){0!=pc&&(this.te=Error().stack,ja(this))}var pc=0;oc.prototype.ld=n;function qc(a,b){this.type=a;this.currentTarget=this.target=b}s=qc.prototype;s.Aa=n;s.defaultPrevented=n;s.Ub=j;s.stopPropagation=function(){this.Aa=j};s.preventDefault=function(){this.defaultPrevented=j;this.Ub=n};function rc(a){a.preventDefault()};function sc(a){sc[" "](a);return a}sc[" "]=da;function tc(a,b){a&&this.init(a,b)}z(tc,qc);var uc=[1,4,2];s=tc.prototype;s.target=m;s.relatedTarget=m;s.offsetX=0;s.offsetY=0;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.button=0;s.keyCode=0;s.charCode=0;s.ctrlKey=n;s.altKey=n;s.shiftKey=n;s.metaKey=n;s.Cc=n;s.n=m;
s.init=function(a,b){var c=this.type=a.type;qc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(F){var f;a:{try{sc(d.nodeName);f=j;break a}catch(e){}f=n}f||(d=m)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=G||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=G||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Cc=Na?a.metaKey:a.ctrlKey;this.state=a.state;this.n=a;a.defaultPrevented&&this.preventDefault();delete this.Aa};function vc(a){return(lc?0==a.n.button:"click"==a.type?j:!!(a.n.button&uc[0]))&&!(G&&Na&&a.ctrlKey)}
s.stopPropagation=function(){tc.K.stopPropagation.call(this);this.n.stopPropagation?this.n.stopPropagation():this.n.cancelBubble=j};s.preventDefault=function(){tc.K.preventDefault.call(this);var a=this.n;if(a.preventDefault)a.preventDefault();else if(a.returnValue=n,nc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};s.Ud=r("n");function wc(){}var xc=0;s=wc.prototype;s.key=0;s.Ca=n;s.fd=n;s.init=function(a,b,c,d,f,e){v(a)?this.Dd=j:a&&a.handleEvent&&v(a.handleEvent)?this.Dd=n:g(Error("Invalid listener argument"));this.Ta=a;this.Hd=b;this.src=c;this.type=d;this.capture=!!f;this.Pa=e;this.fd=n;this.key=++xc;this.Ca=n};s.handleEvent=function(a){return this.Dd?this.Ta.call(this.Pa||this.src,a):this.Ta.handleEvent.call(this.Ta,a)};var yc={},L={},zc={},Ac={};
function N(a,b,c,d,f){if(b){if(ga(b)){for(var e=0;e<b.length;e++)N(a,b[e],c,d,f);return m}var d=!!d,h=L;b in h||(h[b]={m:0,O:0});h=h[b];d in h||(h[d]={m:0,O:0},h.m++);var h=h[d],k=ja(a),l;h.O++;if(h[k]){l=h[k];for(e=0;e<l.length;e++)if(h=l[e],h.Ta==c&&h.Pa==f){if(h.Ca)break;return l[e].key}}else l=h[k]=[],h.m++;var q=Bc,w=mc?function(a){return q.call(w.src,w.key,a)}:function(a){a=q.call(w.src,w.key,a);if(!a)return a},e=w;e.src=a;h=new wc;h.init(c,e,a,b,d,f);c=h.key;e.key=c;l.push(h);yc[c]=h;zc[k]||
(zc[k]=[]);zc[k].push(h);a.addEventListener?(a==t||!a.hd)&&a.addEventListener(b,e,d):a.attachEvent(b in Ac?Ac[b]:Ac[b]="on"+b,e);return c}g(Error("Invalid event type"))}function Cc(a,b,c,d,f){if(ga(b))for(var e=0;e<b.length;e++)Cc(a,b[e],c,d,f);else if(d=!!d,a=Dc(a,b,d))for(e=0;e<a.length;e++)if(a[e].Ta==c&&a[e].capture==d&&a[e].Pa==f){O(a[e].key);break}}
function O(a){if(!yc[a])return n;var b=yc[a];if(b.Ca)return n;var c=b.src,d=b.type,f=b.Hd,e=b.capture;c.removeEventListener?(c==t||!c.hd)&&c.removeEventListener(d,f,e):c.detachEvent&&c.detachEvent(d in Ac?Ac[d]:Ac[d]="on"+d,f);c=ja(c);zc[c]&&(f=zc[c],D(f,b),0==f.length&&delete zc[c]);b.Ca=j;if(b=L[d][e][c])b.Gd=j,Ec(d,e,c,b);delete yc[a];return j}
function Ec(a,b,c,d){if(!d.Kb&&d.Gd){for(var f=0,e=0;f<d.length;f++)d[f].Ca?d[f].Hd.src=m:(f!=e&&(d[e]=d[f]),e++);d.length=e;d.Gd=n;0==e&&(delete L[a][b][c],L[a][b].m--,0==L[a][b].m&&(delete L[a][b],L[a].m--),0==L[a].m&&delete L[a])}}function Dc(a,b,c){var d=L;return b in d&&(d=d[b],c in d&&(d=d[c],a=ja(a),d[a]))?d[a]:m}
function Fc(a,b,c,d,f){var e=1,b=ja(b);if(a[b]){a.O--;a=a[b];a.Kb?a.Kb++:a.Kb=1;try{for(var h=a.length,k=0;k<h;k++){var l=a[k];l&&!l.Ca&&(e&=Gc(l,f)!==n)}}finally{a.Kb--,Ec(c,d,b,a)}}return Boolean(e)}function Gc(a,b){a.fd&&O(a.key);return a.handleEvent(b)}
function Bc(a,b){if(!yc[a])return j;var c=yc[a],d=c.type,f=L;if(!(d in f))return j;var f=f[d],e,h;if(!mc){var k;if(!(k=b))a:{k=["window","event"];for(var l=t;e=k.shift();)if(l[e]!=m)l=l[e];else{k=m;break a}k=l}e=k;k=j in f;l=n in f;if(k){if(0>e.keyCode||e.returnValue!=i)return j;a:{var q=n;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(w){q=j}if(q||e.returnValue==i)e.returnValue=j}}q=new tc;q.init(e,this);e=j;try{if(k){for(var y=[],H=q.currentTarget;H;H=H.parentNode)y.push(H);h=f[j];h.O=h.m;for(var S=
y.length-1;!q.Aa&&0<=S&&h.O;S--)q.currentTarget=y[S],e&=Fc(h,y[S],d,j,q);if(l){h=f[n];h.O=h.m;for(S=0;!q.Aa&&S<y.length&&h.O;S++)q.currentTarget=y[S],e&=Fc(h,y[S],d,n,q)}}else e=Gc(c,q)}finally{y&&(y.length=0)}return e}d=new tc(b,this);return e=Gc(c,d)};function Hc(a){oc.call(this);this.xd=a;this.j=[]}z(Hc,oc);var Ic=[];function P(a,b,c,d,f){ga(c)||(Ic[0]=c,c=Ic);for(var e=0;e<c.length;e++){var h=N(b,c[e],d||a,f||n,a.xd||a);a.j.push(h)}return a}function Jc(a,b,c,d,f,e){if(ga(c))for(var h=0;h<c.length;h++)Jc(a,b,c[h],d,f,e);else{a:{d=d||a;e=e||a.xd||a;f=!!f;if(b=Dc(b,c,f))for(c=0;c<b.length;c++)if(!b[c].Ca&&b[c].Ta==d&&b[c].capture==f&&b[c].Pa==e){b=b[c];break a}b=m}b&&(b=b.key,O(b),D(a.j,b))}return a}
Hc.prototype.Sb=function(){C(this.j,O);this.j.length=0};Hc.prototype.handleEvent=function(){g(Error("EventHandler.handleEvent not implemented"))};function Kc(){oc.call(this)}z(Kc,oc);s=Kc.prototype;s.hd=j;s.Bc=m;s.Gc=function(a){this.Bc=a};s.addEventListener=function(a,b,c,d){N(this,a,b,c,d)};s.removeEventListener=function(a,b,c,d){Cc(this,a,b,c,d)};
s.dispatchEvent=function(a){var b=a.type||a,c=L;if(b in c){if(u(a))a=new qc(a,this);else if(a instanceof qc)a.target=a.target||this;else{var d=a,a=new qc(b,this);qb(a,d)}var d=1,f,c=c[b],b=j in c,e;if(b){f=[];for(e=this;e;e=e.Bc)f.push(e);e=c[j];e.O=e.m;for(var h=f.length-1;!a.Aa&&0<=h&&e.O;h--)a.currentTarget=f[h],d&=Fc(e,f[h],a.type,j,a)&&a.Ub!=n}if(n in c)if(e=c[n],e.O=e.m,b)for(h=0;!a.Aa&&h<f.length&&e.O;h++)a.currentTarget=f[h],d&=Fc(e,f[h],a.type,n,a)&&a.Ub!=n;else for(f=this;!a.Aa&&f&&e.O;f=
f.Bc)a.currentTarget=f,d&=Fc(e,f,a.type,n,a)&&a.Ub!=n;a=Boolean(d)}else a=j;return a};function Lc(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Lc.prototype.contains=function(a){return!this||!a?n:a instanceof Lc?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function Mc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Mc.prototype.contains=function(a){return a instanceof Mc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function Q(a,b,c){u(b)?Nc(a,c,b):ob(b,pa(Nc,a))}function Nc(a,b,c){a.style[ya(c)]=b}function R(a,b){var c=tb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,m))?c[b]||c.getPropertyValue(b)||"":""}function Oc(a,b){return a.currentStyle?a.currentStyle[b]:m}function Pc(a,b){return R(a,b)||Oc(a,b)||a.style&&a.style[b]}function Qc(a,b,c){var d,f=F&&(Na||Ua)&&I("1.9");b instanceof J?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Rc(d,f);a.style.top=Rc(b,f)}
function Sc(a){var b=a.getBoundingClientRect();E&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Tc(a){if(E&&!db(8))return a.offsetParent;for(var b=tb(a),c=Pc(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Pc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return m}
function Uc(a){var b,c=tb(a),d=Pc(a,"position"),f=F&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),e=new J(0,0),h;b=c?tb(c):document;if(h=E)if(h=!db(9))rb(b),h=n;h=h?b.body:b.documentElement;if(a==h)return e;if(a.getBoundingClientRect)b=Sc(a),a=Eb(rb(c)),e.x=b.left+a.x,e.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),e.x=b.screenX-a.screenX,e.y=b.screenY-a.screenY;else{f=a;do{e.x+=f.offsetLeft;
e.y+=f.offsetTop;f!=a&&(e.x+=f.clientLeft||0,e.y+=f.clientTop||0);if(G&&"fixed"==Pc(f,"position")){e.x+=c.body.scrollLeft;e.y+=c.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(Sa||G&&"absolute"==d)e.y-=c.body.offsetTop;for(f=a;(f=Tc(f))&&f!=c.body&&f!=h;)if(e.x-=f.scrollLeft,!Sa||"TR"!=f.tagName)e.y-=f.scrollTop}return e}function Vc(a,b){var c=Wc(a),d=Wc(b);return new J(c.x-d.x,c.y-d.y)}
function Wc(a){var b=new J;if(1==a.nodeType){if(a.getBoundingClientRect){var c=Sc(a);b.x=c.left;b.y=c.top}else{var c=Eb(rb(a)),d=Uc(a);b.x=d.x-c.x;b.y=d.y-c.y}if(F&&!I(12)){var f;E?f="-ms-transform":G?f="-webkit-transform":Sa?f="-o-transform":F&&(f="-moz-transform");var e;f&&(e=Pc(a,f));e||(e=Pc(a,"transform"));e?(a=e.match(Xc),a=!a?new J(0,0):new J(parseFloat(a[1]),parseFloat(a[2]))):a=new J(0,0);b=new J(b.x+a.x,b.y+a.y)}}else f=v(a.Ud),e=a,a.targetTouches?e=a.targetTouches[0]:f&&a.n.targetTouches&&
(e=a.n.targetTouches[0]),b.x=e.clientX,b.y=e.clientY;return b}function Yc(a,b,c){b instanceof nb?(c=b.height,b=b.width):c==i&&g(Error("missing height argument"));a.style.width=Rc(b,j);a.style.height=Rc(c,j)}function Rc(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}
function Zc(a){if("none"!=Pc(a,"display"))return $c(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=$c(a);b.display=c;b.position=f;b.visibility=d;return a}function $c(a){var b=a.offsetWidth,c=a.offsetHeight,d=G&&!b&&!c;return(!ca(b)||d)&&a.getBoundingClientRect?(a=Sc(a),new nb(a.right-a.left,a.bottom-a.top)):new nb(b,c)}function ad(a){var b=Uc(a),a=Zc(a);return new Mc(b.x,b.y,a.width,a.height)}
function T(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function U(a,b){a.style.display=b?"":"none"}function bd(a){return"rtl"==Pc(a,"direction")}var cd=F?"MozUserSelect":G?"WebkitUserSelect":m;
function dd(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}
function ed(a,b){if(E){var c=dd(a,Oc(a,b+"Left")),d=dd(a,Oc(a,b+"Right")),f=dd(a,Oc(a,b+"Top")),e=dd(a,Oc(a,b+"Bottom"));return new Lc(f,d,e,c)}c=R(a,b+"Left");d=R(a,b+"Right");f=R(a,b+"Top");e=R(a,b+"Bottom");return new Lc(parseFloat(f),parseFloat(d),parseFloat(e),parseFloat(c))}var fd={thin:2,medium:4,thick:6};function gd(a,b){if("none"==Oc(a,b+"Style"))return 0;var c=Oc(a,b+"Width");return c in fd?fd[c]:dd(a,c)}
function hd(a){if(E){var b=gd(a,"borderLeft"),c=gd(a,"borderRight"),d=gd(a,"borderTop"),a=gd(a,"borderBottom");return new Lc(d,c,a,b)}b=R(a,"borderLeftWidth");c=R(a,"borderRightWidth");d=R(a,"borderTopWidth");a=R(a,"borderBottomWidth");return new Lc(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Xc=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function id(a,b,c){oc.call(this);this.target=a;this.handle=b||a;this.wc=c||new Mc(NaN,NaN,NaN,NaN);this.M=tb(a);this.ka=new Hc(this);N(this.handle,["touchstart","mousedown"],this.le,n,this)}z(id,Kc);var jd=E||F&&I("1.9.3");s=id.prototype;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.Ld=0;s.Md=0;s.Ka=0;s.La=0;s.md=j;s.xa=n;s.zd=0;s.de=0;s.ae=n;s.Hc=n;s.Eb=r("ka");function kd(a){ca(a.ra)||(a.ra=bd(a.target));return a.ra}
s.le=function(a){var b="mousedown"==a.type;if(this.md&&!this.xa&&(!b||vc(a))){ld(a);if(0==this.zd)if(this.dispatchEvent(new md("start",this,a.clientX,a.clientY,a)))this.xa=j,a.preventDefault();else return;else a.preventDefault();var b=this.M,c=b.documentElement,d=!jd;P(this.ka,b,["touchmove","mousemove"],this.Zd,d);P(this.ka,b,["touchend","mouseup"],this.Cb,d);jd?(c.setCapture(n),P(this.ka,c,"losecapture",this.Cb)):P(this.ka,b?b.parentWindow||b.defaultView:window,"blur",this.Cb);E&&this.ae&&P(this.ka,
b,"dragstart",rc);this.je&&P(this.ka,this.je,"scroll",this.ge,d);this.clientX=this.Ld=a.clientX;this.clientY=this.Md=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Hc?(a=this.target,b=a.offsetLeft,c=a.offsetParent,!c&&"fixed"==Pc(a,"position")&&(c=tb(a).documentElement),c?(F?(d=hd(c),b+=d.left):db(8)&&(d=hd(c),b-=d.left),a=bd(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.Ka=a;this.La=this.target.offsetTop;this.Ac=Eb(rb(this.M));this.de=qa()}else this.dispatchEvent("earlycancel")};
s.Cb=function(a,b){this.ka.Sb();jd&&this.M.releaseCapture();if(this.xa){ld(a);this.xa=n;var c=nd(this,this.Ka),d=od(this,this.La);this.dispatchEvent(new md("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function ld(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.n.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.init(a.n.changedTouches[0],a.currentTarget)}
s.Zd=function(a){if(this.md){ld(a);var b=(this.Hc&&kd(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.xa){var d=this.Ld-this.clientX,f=this.Md-this.clientY;if(d*d+f*f>this.zd)if(this.dispatchEvent(new md("start",this,a.clientX,a.clientY,a)))this.xa=j;else{this.ld||this.Cb(a);return}}c=pd(this,b,c);b=c.x;c=c.y;this.xa&&this.dispatchEvent(new md("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(qd(this,a,b,c),a.preventDefault())}};function pd(a,b,c){var d=Eb(rb(a.M)),b=b+(d.x-a.Ac.x),c=c+(d.y-a.Ac.y);a.Ac=d;a.Ka+=b;a.La+=c;b=nd(a,a.Ka);a=od(a,a.La);return new J(b,a)}s.ge=function(a){var b=pd(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;qd(this,a,b.x,b.y)};function qd(a,b,c,d){a.kd(c,d);a.dispatchEvent(new md("drag",a,b.clientX,b.clientY,b,c,d))}
function nd(a,b){var c=a.wc,d=!isNaN(c.left)?c.left:m,c=!isNaN(c.width)?c.width:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}function od(a,b){var c=a.wc,d=!isNaN(c.top)?c.top:m,c=!isNaN(c.height)?c.height:0;return Math.min(d!=m?d+c:Infinity,Math.max(d!=m?d:-Infinity,b))}s.kd=function(a,b){this.Hc&&kd(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function md(a,b,c,d,f,e,h,k){qc.call(this,a);this.clientX=c;this.clientY=d;this.re=f;this.left=ca(e)?e:b.Ka;this.top=ca(h)?h:b.La;this.ve=b;this.ue=!!k}z(md,qc);function rd(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:c,left:b}};function sd(){this.Za=[]}sd.prototype.addHandler=function(a,b){this.Za[a]||(this.Za[a]=[]);this.Za[a].push(b)};sd.prototype.Tb=function(a,b){var c=this.Za[a];c&&D(c,b)};sd.prototype.fireEvent=function(a,b,c){var d=n;(a=this.Za[a])&&C(a,function(a){a=a(b,c);ca(a)&&!a&&(d=j)});return d};var td={};function ud(a,b){this.Y={};this.j=[];var c=arguments.length;if(1<c){c%2&&g(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var f;if(a instanceof ud)vd(a),f=a.j.concat(),d=V(a);else{var c=[],e=0;for(f in a)c[e++]=f;f=c;c=[];e=0;for(d in a)c[e++]=a[d];d=c}for(c=0;c<f.length;c++)this.set(f[c],d[c])}}s=ud.prototype;s.m=0;s.Ic=0;function V(a){vd(a);for(var b=[],c=0;c<a.j.length;c++)b.push(a.Y[a.j[c]]);return b}
s.clear=function(){this.Y={};this.Ic=this.m=this.j.length=0};s.remove=function(a){return wd(this.Y,a)?(delete this.Y[a],this.m--,this.Ic++,this.j.length>2*this.m&&vd(this),j):n};function vd(a){if(a.m!=a.j.length){for(var b=0,c=0;b<a.j.length;){var d=a.j[b];wd(a.Y,d)&&(a.j[c++]=d);b++}a.j.length=c}if(a.m!=a.j.length){for(var f={},c=b=0;b<a.j.length;)d=a.j[b],wd(f,d)||(a.j[c++]=d,f[d]=1),b++;a.j.length=c}}s.get=function(a,b){return wd(this.Y,a)?this.Y[a]:b};
s.set=function(a,b){wd(this.Y,a)||(this.m++,this.j.push(a),this.Ic++);this.Y[a]=b};function wd(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function W(a,b){this.x=a;this.y=b};function xd(a){this.points=a}function yd(a){for(var b=0,c=a.length-1,d=0;d<a.length;d++)b+=(a[c].x+a[d].x)*(a[c].y-a[d].y),c=d;return b/2}
function zd(a,b){for(var c,d=c=0,f,e=a.length-1,h=0;h<a.length;h++)f=a[h].x*a[e].y-a[e].x*a[h].y,c+=(a[h].x+a[e].x)*f,d+=(a[h].y+a[e].y)*f,e=h;f=6*yd(a);c=new W(Math.abs(c/f),Math.abs(d/f));d=[];for(f=0;f<a.length;f++){var e=a[f],k=(0>yd(a)?-1:1)*b,h=e.x-c.x,l=e.y-c.y,q=0<k?1:0>k?-1:0,k=Math.sqrt(Math.pow(k,2)/(1+Math.pow(h/l,2)));d.push({x:e.x+Math.abs(h/l*k)*(0<h?1:0>h?-1:0)*q,y:e.y+Math.abs(k)*(0<l?1:0>l?-1:0)*q})}return d};function Ad(a,b,c,d){0<c?(this.x=a,this.width=c):(this.x=a+c,this.width=-c);0<d?(this.y=b,this.height=d):(this.y=b+d,this.height=-d)};function Bd(a,b,c,d){this.type=a;this.geometry=b;c&&(this.units=c);this.style=d?d:{}}function Cd(a){return"rect"==a.type?a.geometry.width*a.geometry.height:"polygon"==a.type?Math.abs(yd(a.geometry.points)):0}function Dd(a){if("rect"==a.type)return a;if("polygon"==a.type){for(var b=a.geometry.points,c=b[0].x,d=b[0].x,f=b[0].y,e=b[0].y,h=1;h<b.length;h++)b[h].x>d&&(d=b[h].x),b[h].x<c&&(c=b[h].x),b[h].y>e&&(e=b[h].y),b[h].y<f&&(f=b[h].y);return new Bd("rect",new Ad(c,f,d-c,e-f),n,a.style)}}
function Ed(a,b){var c;c=a.geometry.points;var d=0>yd(c)?-1:1;if(4>c.length)c=zd(c,d*b);else{for(var f=c.length-1,e=1,h=[],k=0;k<c.length;k++)f=zd([c[f],c[k],c[e]],d*b),h.push(f[1]),f=k,e++,e>c.length-1&&(e=0);c=h}return new Bd("polygon",new xd(c),n,a.style)}function Fd(a,b){if("rect"==a.type){var c=b(a.geometry);return new Bd("rect",c,n,a.style)}if("polygon"==a.type){var d=[];C(a.geometry.points,function(a){d.push(b(a))});return new Bd("polygon",new xd(d),n,a.style)}}
function Gd(a){return JSON.stringify(a.geometry)};function Hd(a,b,c){this.src=a;this.text=b;this.shapes=[c];this.context=document.URL};function Id(){}function Jd(a,b){a.g=new ud;a.Uc=[];a.bb=[];a.Ha=[];a.Fa=[];a.$b=[];a.ub={Ra:n,Qa:n};a.Ga=new ud;a.bc=i;a.bd=b}function Kd(a,b){var c=a.Ga.get(b);c||(c={Ra:n,Qa:n},a.Ga.set(b,c));return c}
function Ld(a,b){var c=a.Fb(b);if(!a.g.get(c)){var d=a.zc(b),f=[],e=[];C(a.Uc,function(a){d.addHandler(a.type,a.Pa)});C(a.bb,function(a){if(a.onInitAnnotator)a.onInitAnnotator(d)});C(a.Fa,function(a){a.src==c&&(d.J(a),f.push(a))});C(a.$b,function(a){a.src==c&&(d.A(a),e.push(a))});C(f,function(b){D(a.Fa,b)});C(e,function(b){D(a.$b,b)});var h=a.Ga.get(c);h?(h.Ra&&d.N(),h.Qa&&d.ea(),a.Ga.remove(c)):(a.ub.Ra&&d.N(),a.ub.Qa&&d.ea());a.bc&&d.ga(a.bc);a.g.set(c,d);D(a.Ha,b)}}
function Md(a){var b,c;for(c=a.Ha.length;0<c;c--){for(var d=b=a.Ha[c-1],f=d.offsetTop,e=d.offsetLeft,h=d.offsetWidth,k=d.offsetHeight;d.offsetParent;)d=d.offsetParent,f+=d.offsetTop,e+=d.offsetLeft;f<window.pageYOffset+window.innerHeight&&(e<window.pageXOffset+window.innerWidth&&f+k>window.pageYOffset&&e+h>window.pageXOffset)&&Ld(a,b)}}function Nd(a,b,c){if(b){var d=a.g.get(b);d?c?d.Da():d.ea():Kd(a,b).Qa=c}else C(V(a.g),function(a){c?a.Da():a.ea()}),a.ub.Qa=!c,C(V(a.Ga),function(a){a.Qa=!c})}
function Od(a,b,c){if(b){var d=a.g.get(b);d?c?d.Z():d.N():Kd(a,b).Ra=c}else C(V(a.g),function(a){c?a.Z():a.N()}),a.ub.Ra=!c,C(V(a.Ga),function(a){a.Ra=!c})}s=Id.prototype;s.ba=function(a,b){var c=i,d=i;u(a)?(c=a,d=b):v(a)&&(d=a);c?(c=this.g.get(c))&&c.ba(d):C(V(this.g),function(a){a.ba(d)})};s.stopSelection=function(a){a?(a=this.g.get(a))&&a.stopSelection():C(V(this.g),function(a){a.stopSelection()})};
s.J=function(a,b){if(Pd(this,a.src)){var c=this.g.get(a.src);c?c.J(a,b):(this.Fa.push(a),b&&D(this.Fa,b))}};s.addHandler=function(a,b){C(V(this.g),function(c){c.addHandler(a,b)});this.Uc.push({type:a,Pa:b})};s.zb=function(a){this.bb.push(a);C(V(this.g),function(b){if(a.onInitAnnotator)a.onInitAnnotator(b)})};function Pd(a,b){return wd(a.g.Y,b)?j:Da(a.Ha,function(c){return a.Fb(c)==b})!=m}
s.destroy=function(a){if(a){var b=this.g.get(a);b&&(b.destroy(),this.g.remove(a))}else C(V(this.g),function(a){a.destroy()}),this.g.clear()};s.la=function(a){if(Pd(this,a)&&(a=this.g.get(a)))return a.la().getName()};s.t=function(a){if(a){var b=this.g.get(a);return b?b.t():Aa(this.Fa,function(b){return b.src==a})}var c=[];C(V(this.g),function(a){Ga(c,a.t())});Ga(c,this.Fa);return c};s.ma=function(a){if(Pd(this,a)&&(a=this.g.get(a)))return Ba(a.ma(),function(a){return a.getName()})};
s.ea=function(a){Nd(this,a,n)};s.N=function(a){Od(this,a,n)};s.o=function(a){if(a){if(Pd(this,a.src)){var b=this.g.get(a.src);b&&b.o(a)}}else C(V(this.g),function(a){a.o()})};s.init=function(){this.bd&&Ga(this.Ha,this.bd());Md(this);var a=this,b=N(window,"scroll",function(){0<a.Ha.length?Md(a):O(b)})};s.xc=function(a){this.Wb(a)&&Ld(this,a)};s.A=function(a){if(Pd(this,a.src)){var b=this.g.get(a.src);b?b.A(a):this.$b.push(a)}};s.sb=function(a,b){if(Pd(this,a)){var c=this.g.get(a);c&&c.Jd(b)}};
s.ga=function(a){this.bc=a;C(V(this.g),function(b){b.ga(a)})};s.Da=function(a){Nd(this,a,j)};s.Z=function(a){Od(this,a,j)};function Qd(a,b){var c=rb().createElement("DIV");c.innerHTML=a(b||Rd,i,i);if(1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType)return d}return c}var Rd={};function Sd(a,b){a!=m&&this.append.apply(this,arguments)}s=Sd.prototype;s.wa="";s.set=function(a){this.wa=""+a};s.append=function(a,b,c){this.wa+=a;if(b!=m)for(var d=1;d<arguments.length;d++)this.wa+=arguments[d];return this};s.clear=function(){this.wa=""};s.toString=r("wa");/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function Td(){}
var Ud={xe:"<",we:">",pe:"&",ye:"\u00a0",Ae:'"',qe:"'"},Vd={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:20,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,object:16,
ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:20,select:0,small:0,span:0,strike:0,strong:0,style:20,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},Wd=/&/g,Xd=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,Yd=/</g,Zd=/>/g,$d=/\"/g,ae=/=/g,be=/\0/g,ce=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g,de=/^#(\d+)$/,ee=/^#x([0-9A-Fa-f]+)$/,fe=RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*=\\s*(\"[^\"]*\"|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^>\"'\\s]*))?)|(/?>)|[^a-z\\s>]+)",
"i"),ge=RegExp("^(?:&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|<[!]--[\\s\\S]*?--\>|<!\\w[^>]*>|<\\?[^>*]*>|<(/)?([a-z][a-z0-9]*)|([^<&>]+)|([<&>]))","i");
Td.prototype.parse=function(a,b){var c=m,d=n,f=[],e,h,k;a.Q=[];for(a.oa=n;b;){var l=b.match(d?fe:ge),b=b.substring(l[0].length);if(d)if(l[1]){var q=l[1].toLowerCase();if(l[2]){l=l[3];switch(l.charCodeAt(0)){case 34:case 39:l=l.substring(1,l.length-1)}l=l.replace(be,"").replace(ce,oa(this.be,this))}else l=q;f.push(q,l)}else l[4]&&(h!==i&&(k?a.Kd&&a.Kd(e,f):a.nd&&a.nd(e)),k&&h&12&&(c=c===m?b.toLowerCase():c.substring(c.length-b.length),d=c.indexOf("</"+e),0>d&&(d=b.length),h&4?a.gd&&a.gd(b.substring(0,
d)):a.Id&&a.Id(b.substring(0,d).replace(Xd,"&amp;$1").replace(Yd,"&lt;").replace(Zd,"&gt;")),b=b.substring(d)),e=h=k=i,f.length=0,d=n);else if(l[1])he(a,l[0]);else if(l[3])k=!l[2],d=j,e=l[3].toLowerCase(),h=Vd.hasOwnProperty(e)?Vd[e]:i;else if(l[4])he(a,l[4]);else if(l[5])switch(l[5]){case "<":he(a,"&lt;");break;case ">":he(a,"&gt;");break;default:he(a,"&amp;")}}for(c=a.Q.length;0<=--c;)a.ha.append("</",a.Q[c],">");a.Q.length=0};
Td.prototype.be=function(a){a=a.toLowerCase();if(Ud.hasOwnProperty(a))return Ud[a];var b=a.match(de);return b?String.fromCharCode(parseInt(b[1],10)):(b=a.match(ee))?String.fromCharCode(parseInt(b[1],16)):""};function ie(){};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function je(a,b,c){this.ha=a;this.Q=[];this.oa=n;this.Od=b;this.Ob=c}z(je,ie);
var ke={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"*::accesskey":0,"*::tabindex":0,"*::onfocus":2,"*::onblur":2,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,
"area::href":1,"area::nohref":0,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,
"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,
"img::hspace":0,"img::ismap":0,"img::longdesc":1,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::autocomplete":0,"input::align":0,"input::alt":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,
"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,
"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,
"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,
"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};
je.prototype.Kd=function(a,b){if(!this.oa&&Vd.hasOwnProperty(a)){var c=Vd[a];if(!(c&32))if(c&16)this.oa=!(c&2);else{for(var d=b,f=0;f<d.length;f+=2){var e=d[f],h=d[f+1],k=m,l;if((l=a+"::"+e,ke.hasOwnProperty(l))||(l="*::"+e,ke.hasOwnProperty(l)))k=ke[l];if(k!==m)switch(k){case 0:break;case 2:case 3:h=m;break;case 4:case 5:case 6:case 7:case 8:case 9:h=this.Ob?this.Ob(h):h;break;case 1:h=this.Od&&this.Od(h);break;case 11:h&&"#"===h.charAt(0)?(h=this.Ob?this.Ob(h):h)&&(h="#"+h):h=m;break;default:h=
m}else h=m;d[f+1]=h}if(b=d){c&2||this.Q.push(a);this.ha.append("<",a);c=0;for(d=b.length;c<d;c+=2)f=b[c],e=b[c+1],e!==m&&e!==i&&this.ha.append(" ",f,'="',e.replace(Wd,"&amp;").replace(Yd,"&lt;").replace(Zd,"&gt;").replace($d,"&#34;").replace(ae,"&#61;"),'"');this.ha.append(">")}}}};
je.prototype.nd=function(a){if(this.oa)this.oa=n;else if(Vd.hasOwnProperty(a)){var b=Vd[a];if(!(b&50)){if(b&1)for(b=this.Q.length;0<=--b;){var c=this.Q[b];if(c===a)break;if(!(Vd[c]&1))return}else for(b=this.Q.length;0<=--b&&this.Q[b]!==a;);if(!(0>b)){for(var d=this.Q.length;--d>b;)c=this.Q[d],Vd[c]&1||this.ha.append("</",c,">");this.Q.length=b;this.ha.append("</",a,">")}}}};function he(a,b){a.oa||a.ha.append(b)}je.prototype.Id=function(a){this.oa||this.ha.append(a)};
je.prototype.gd=function(a){this.oa||this.ha.append(a)};function le(a,b,c,d,f){if(!E&&(!G||!I("525")))return j;if(Na&&f)return me(a);if(f&&!d||!c&&(17==b||18==b)||E&&d&&b==a)return n;switch(a){case 13:return!(E&&db(9));case 27:return!G}return me(a)}function me(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||G&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return n}}
function ne(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function oe(a,b){oc.call(this);a&&pe(this,a,b)}z(oe,Kc);s=oe.prototype;s.F=m;s.Ib=m;s.uc=m;s.Jb=m;s.qa=-1;s.pa=-1;s.mc=n;
var qe={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},re={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},se=E||G&&I("525"),te=Na&&F;s=oe.prototype;
s.Wd=function(a){if(G&&(17==this.qa&&!a.ctrlKey||18==this.qa&&!a.altKey))this.pa=this.qa=-1;se&&!le(a.keyCode,this.qa,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.pa=F?ne(a.keyCode):a.keyCode,te&&(this.mc=a.altKey))};s.Yd=function(a){this.pa=this.qa=-1;this.mc=a.altKey};
s.handleEvent=function(a){var b=a.n,c,d,f=b.altKey;E&&"keypress"==a.type?(c=this.pa,d=13!=c&&27!=c?b.keyCode:0):G&&"keypress"==a.type?(c=this.pa,d=0<=b.charCode&&63232>b.charCode&&me(c)?b.charCode:0):Sa?(c=this.pa,d=me(c)?b.keyCode:0):(c=b.keyCode||this.pa,d=b.charCode||0,te&&(f=this.mc),Na&&(63==d&&224==c)&&(c=191));var e=c,h=b.keyIdentifier;c?63232<=c&&c in qe?e=qe[c]:25==c&&a.shiftKey&&(e=9):h&&h in re&&(e=re[h]);a=e==this.qa;this.qa=e;b=new ue(e,d,a,b);b.altKey=f;this.dispatchEvent(b)};s.d=r("F");
function pe(a,b,c){a.Jb&&a.detach();a.F=b;a.Ib=N(a.F,"keypress",a,c);a.uc=N(a.F,"keydown",a.Wd,c,a);a.Jb=N(a.F,"keyup",a.Yd,c,a)}s.detach=function(){this.Ib&&(O(this.Ib),O(this.uc),O(this.Jb),this.Jb=this.uc=this.Ib=m);this.F=m;this.pa=this.qa=-1};function ue(a,b,c,d){d&&this.init(d,i);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}z(ue,tc);function ve(){}ea(ve);ve.prototype.fe=0;ve.pb();function we(a){oc.call(this);this.kb=a||rb();this.ra=xe}z(we,Kc);we.prototype.$d=ve.pb();var xe=m;function ye(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}g(Error("Invalid component state"))}s=we.prototype;s.Hb=m;s.fa=n;s.F=m;s.ra=m;s.za=m;s.hb=m;s.Ja=m;s.ne=n;s.d=r("F");
s.Eb=function(){return this.sc||(this.sc=new Hc(this))};s.Gc=function(a){this.za&&this.za!=a&&g(Error("Method not supported"));we.K.Gc.call(this,a)};s.pd=r("kb");s.jb=function(a){this.fa&&g(Error("Component already rendered"));if(a&&this.gb(a)){this.ne=j;if(!this.kb||this.kb.M!=tb(a))this.kb=rb(a);this.jd(a);this.Ma()}else g(Error("Invalid element to decorate"))};s.gb=aa(j);s.jd=function(a){this.F=a};s.Ma=function(){function a(a){!a.fa&&a.d()&&a.Ma()}this.fa=j;this.hb&&C(this.hb,a,i)};
s.Db=function(){function a(a){a.fa&&a.Db()}this.hb&&C(this.hb,a,i);this.sc&&this.sc.Sb();this.fa=n};s.nb=r("F");s.Va=function(a){this.fa&&g(Error("Component already rendered"));this.ra=a};
s.removeChild=function(a,b){if(a){var c=u(a)?a:a.Hb||(a.Hb=":"+(a.$d.fe++).toString(36)),d;this.Ja&&c?(d=this.Ja,d=(c in d?d[c]:i)||m):d=m;a=d;c&&a&&(d=this.Ja,c in d&&delete d[c],D(this.hb,a),b&&(a.Db(),a.F&&Ab(a.F)),c=a,c==m&&g(Error("Unable to set parent component")),c.za=m,we.K.Gc.call(c,m))}a||g(Error("Child is not in parent component"));return a};function ze(){}var Ae;ea(ze);s=ze.prototype;s.nb=function(a){return a};s.lb=function(a,b,c){if(a=a.d?a.d():a)if(E&&!I("7")){var d=Be(hb(a),b);d.push(b);pa(c?ib:kb,a).apply(m,d)}else c?ib(a,b):kb(a,b)};s.gb=aa(j);
s.jb=function(a,b){if(b.id){var c=b.id;if(a.za&&a.za.Ja){var d=a.za.Ja,f=a.Hb;f in d&&delete d[f];d=a.za.Ja;c in d&&g(Error('The object already contains the key "'+c+'"'));d[c]=a}a.Hb=c}(c=this.nb(b))&&c.firstChild?(c=c.firstChild.nextSibling?Fa(c.childNodes):c.firstChild,a.ib=c):a.ib=m;var e=0,h=this.ob(),k=this.ob(),l=n,q=n,c=n,d=hb(b);C(d,function(a){if(!l&&a==h)l=j,k==h&&(q=j);else if(!q&&a==k)q=j;else{var b=e;if(!this.Nd){this.Bb||Ce(this);var c=this.Bb,d={},f;for(f in c)d[c[f]]=f;this.Nd=d}a=
parseInt(this.Nd[a],10);e=b|(isNaN(a)?0:a)}},this);a.r=e;l||(d.push(h),k==h&&(q=j));q||d.push(k);(f=a.da)&&d.push.apply(d,f);if(E&&!I("7")){var w=Be(d);0<w.length&&(d.push.apply(d,w),c=j)}if(!l||!q||f||c)b.className=d.join(" ");a.isEnabled()||this.Wa(b,1,j);a.r&8&&this.Wa(b,8,j);a.W&16&&this.Wa(b,16,!!(a.r&16));a.W&64&&this.Wa(b,64,!!(a.r&64));return b};
s.Vb=function(a,b){var c=!b,d=E||Sa?a.getElementsByTagName("*"):m;if(cd){if(c=c?"none":"",a.style[cd]=c,d)for(var f=0,e;e=d[f];f++)e.style[cd]=c}else if(E||Sa)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(f=0;e=d[f];f++)e.setAttribute("unselectable",c)};s.Va=function(a,b){this.lb(a,this.ob()+"-rtl",b)};s.Cd=function(a){var b;return a.W&32&&(b=a.Na())?Db(b):n};
s.Fc=function(a,b){var c;if(a.W&32&&(c=a.Na())){if(!b&&a.r&32){try{c.blur()}catch(d){}a.r&32&&a.qd()}Db(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};s.P=function(a,b,c){var d=a.d();if(d){var f;this.Bb||Ce(this);(f=this.Bb[b])&&this.lb(a,f,c);this.Wa(d,b,c)}};s.Wa=function(a,b,c){Ae||(Ae={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Ae[b])&&a.setAttribute("aria-"+b,c)};
s.sa=function(a,b){var c=this.nb(a);if(c&&(zb(c),b))if(u(b))if("textContent"in c)c.textContent=b;else if(c.firstChild&&3==c.firstChild.nodeType){for(;c.lastChild!=c.firstChild;)c.removeChild(c.lastChild);c.firstChild.data=b}else zb(c),c.appendChild(tb(c).createTextNode(b));else{var d=function(a){if(a){var b=tb(c);c.appendChild(u(a)?b.createTextNode(a):a)}};ga(b)?C(b,d):ha(b)&&!("nodeType"in b)?C(Fa(b),d):d(b)}};s.Na=function(a){return a.d()};s.ob=aa("goog-control");
function Be(a,b){var c=[];b&&(a=a.concat([b]));C([],function(d){Ca(d,pa(Ea,a))&&(!b||Ea(d,b))&&c.push(d.join("_"))});return c}function Ce(a){var b=a.ob();a.Bb={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};var De={};function Ee(a,b,c){we.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=ja(b);if(d=De[d])break;b=b.K?b.K.constructor:m}b=d?v(d.pb)?d.pb():new d:m}this.G=b;this.ib=a}z(Ee,we);s=Ee.prototype;s.ib=m;s.r=0;s.W=39;s.oc=255;s.me=0;s.Yb=j;s.da=m;s.tc=j;s.lc=n;s.ie=m;function Fe(a){a.fa&&n!=a.tc&&Ge(a,n);a.tc=n}s.Na=function(){return this.G.Na(this)};
s.lb=function(a,b){b?a&&(this.da?Ea(this.da,a)||this.da.push(a):this.da=[a],this.G.lb(this,a,j)):a&&this.da&&(D(this.da,a),0==this.da.length&&(this.da=m),this.G.lb(this,a,n))};s.nb=function(){return this.G.nb(this.d())};s.gb=function(a){return this.G.gb(a)};s.jd=function(a){this.F=a=this.G.jb(this,a);var b=this.ie||i;b&&a.setAttribute("role",b);this.lc||this.G.Vb(a,n);this.Yb="none"!=a.style.display};
s.Ma=function(){Ee.K.Ma.call(this);var a=this.G;this.ra==m&&(this.ra=bd(this.fa?this.F:this.kb.M.body));this.ra&&a.Va(this.d(),j);this.isEnabled()&&a.Fc(this,this.Yb);if(this.W&-2&&(this.tc&&Ge(this,j),this.W&32&&(a=this.Na()))){var b=this.vc||(this.vc=new oe);pe(b,a);P(P(P(this.Eb(),b,"key",this.Xd),a,"focus",this.Vd),a,"blur",this.qd)}};
function Ge(a,b){var c=a.Eb(),d=a.d();b?(P(P(P(P(c,d,"mouseover",a.vd),d,"mousedown",a.sd),d,"mouseup",a.wd),d,"mouseout",a.ud),a.Gb!=da&&P(c,d,"contextmenu",a.Gb),E&&P(c,d,"dblclick",a.rd)):(Jc(Jc(Jc(Jc(c,d,"mouseover",a.vd),d,"mousedown",a.sd),d,"mouseup",a.wd),d,"mouseout",a.ud),a.Gb!=da&&Jc(c,d,"contextmenu",a.Gb),E&&Jc(c,d,"dblclick",a.rd))}s.Db=function(){Ee.K.Db.call(this);this.vc&&this.vc.detach();this.Yb&&this.isEnabled()&&this.G.Fc(this,n)};
s.sa=function(a){this.G.sa(this.d(),a);this.ib=a};s.Va=function(a){Ee.K.Va.call(this,a);var b=this.d();b&&this.G.Va(b,a)};s.Vb=function(a){this.lc=a;var b=this.d();b&&this.G.Vb(b,a)};s.isEnabled=function(){return!(this.r&1)};function He(a,b){Ie(a,2,b)&&a.P(2,b)}s.setActive=function(a){Ie(this,4,a)&&this.P(4,a)};s.P=function(a,b){this.W&a&&b!=!!(this.r&a)&&(this.G.P(this,a,b),this.r=b?this.r|a:this.r&~a)};function X(a,b){return!!(a.oc&b)&&!!(a.W&b)}
function Ie(a,b,c){return!!(a.W&b)&&!!(a.r&b)!=c&&(!(a.me&b)||a.dispatchEvent(ye(b,c)))&&!a.ld}s.vd=function(a){(!a.relatedTarget||!Cb(this.d(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&X(this,2))&&He(this,j)};s.ud=function(a){if((!a.relatedTarget||!Cb(this.d(),a.relatedTarget))&&this.dispatchEvent("leave"))X(this,4)&&this.setActive(n),X(this,2)&&He(this,n)};s.Gb=da;
s.sd=function(a){this.isEnabled()&&(X(this,2)&&He(this,j),vc(a)&&(X(this,4)&&this.setActive(j),this.G.Cd(this)&&this.Na().focus()));!this.lc&&vc(a)&&a.preventDefault()};s.wd=function(a){this.isEnabled()&&(X(this,2)&&He(this,j),this.r&4&&(Je(this,a)&&X(this,4))&&this.setActive(n))};s.rd=function(a){this.isEnabled()&&Je(this,a)};
function Je(a,b){if(X(a,16)){var c=!(a.r&16);Ie(a,16,c)&&a.P(16,c)}X(a,8)&&Ie(a,8,j)&&a.P(8,j);X(a,64)&&(c=!(a.r&64),Ie(a,64,c)&&a.P(64,c));c=new qc("action",a);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.Cc=b.Cc);return a.dispatchEvent(c)}s.Vd=function(){X(this,32)&&Ie(this,32,j)&&this.P(32,j)};s.qd=function(){X(this,4)&&this.setActive(n);X(this,32)&&Ie(this,32,n)&&this.P(32,n)};
s.Xd=function(a){return this.Yb&&this.isEnabled()&&13==a.keyCode&&Je(this,a)?(a.preventDefault(),a.stopPropagation(),j):n};v(Ee)||g(Error("Invalid component class "+Ee));v(ze)||g(Error("Invalid renderer class "+ze));var Ke=ja(Ee);De[Ke]=ze;function Le(){return new Ee(m)}v(Le)||g(Error("Invalid decorator function "+Le));function Ne(){}z(Ne,ze);ea(Ne);s=Ne.prototype;s.jb=function(a,b){Fe(a);a.oc&=-256;a.fa&&a.r&32&&g(Error("Component already rendered"));a.r&32&&a.P(32,n);a.W&=-33;Ne.K.jb.call(this,a,b);a.sa(b.value);return b};s.gb=function(a){return"TEXTAREA"==a.tagName};s.Va=da;s.Cd=function(a){return a.isEnabled()};s.Fc=da;s.P=function(a,b,c){Ne.K.P.call(this,a,b,c);if((a=a.d())&&1==b)a.disabled=c};s.Wa=da;s.sa=function(a,b){a&&(a.value=b)};s.ob=aa("goog-textarea");function Oe(a,b,c){Ee.call(this,a,b||Ne.pb(),c);Fe(this);this.Vb(j);a||(this.ib="")}z(Oe,Ee);var Pe=F||G;s=Oe.prototype;s.Sa=n;s.na=0;s.ce=0;s.Fd=0;s.yd=n;s.Nb=n;s.Ec=n;s.Dc=n;function Qe(a){return a.rb.top+a.rb.bottom+a.ed.top+a.ed.bottom}function Re(a){var b=a.Fd,c=a.d();b&&(c&&a.Nb)&&(b-=Qe(a));return b}function Se(a){var b=a.ce,c=a.d();b&&(c&&a.Nb)&&(b-=Qe(a));return b}s.sa=function(a){Oe.K.sa.call(this,a);this.d()&&this.Oa()};
s.Ma=function(){Oe.K.Ma.call(this);var a=this.d();Q(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.rb=ed(a,"padding");this.ed=hd(a);P(P(P(P(this.Eb(),a,"scroll",this.Oa),a,"focus",this.Oa),a,"keyup",this.Oa),a,"mouseup",this.ee);this.d()&&this.Oa()};
function Te(a){if(!a.yd){var b=a.d().cloneNode(n);Q(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.pd().M.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.Ec=d>c;b.style.borderWidth="10px";a.Dc=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.Nb=j);Ab(b);a.yd=j}var b=a.d(),c=a.d().scrollHeight,f=a.d(),d=f.offsetHeight-f.clientHeight;if(!a.Ec)var e=a.rb,d=d-(e.top+e.bottom);
a.Dc||(f=hd(f),d-=f.top+f.bottom);c+=0<d?d:0;a.Nb?c-=Qe(a):(a.Ec||(d=a.rb,c+=d.top+d.bottom),a.Dc||(a=hd(b),c+=a.top+a.bottom));return c}function Ue(a,b){a.na!=b&&(a.na=b,a.d().style.height=b+"px")}function Ve(a){a=a.d();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
s.Oa=function(){if(!this.Sa){var a=n;this.Sa=j;var b=this.d(),c=this.na;if(b.scrollHeight){var d=n,f=n,e=Te(this),h=b.offsetHeight,k=Re(this),l=Se(this);k&&e<k?(Ue(this,k),d=j):l&&e>l?(Ue(this,l),b.style.overflowY="",f=j):h!=e?Ue(this,e):this.na||(this.na=e);!d&&(!f&&Pe)&&(a=j)}else Ve(this);this.Sa=n;a&&(a=this.d(),this.Sa||(this.Sa=j,b=n,a.value||(a.value=" ",b=j),(f=a.scrollHeight)?(e=Te(this),d=Re(this),h=Se(this),!(d&&e<=d)&&!(h&&e>=h)&&(h=this.rb,a.style.paddingBottom=h.bottom+1+"px",Te(this)==
e&&(a.style.paddingBottom=h.bottom+f+"px",a.scrollTop=0,f=Te(this)-f,f>=d?Ue(this,f):Ue(this,d)),a.style.paddingBottom=h.bottom+"px")):Ve(this),b&&(a.value=""),this.Sa=n));c!=this.na&&this.dispatchEvent("resize")}};s.ee=function(){var a=this.d(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.na&&(this.na=this.Fd=b)};E&&I(8);function We(a){return"object"===typeof a&&a&&0===a.se?a.content:String(a).replace(Xe,Ye)}var Ze={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Ye(a){return Ze[a]}var Xe=/[\x00\x22\x26\x27\x3c\x3e]/g;function $e(){return'<div class="annotorious-popup top-left" style="position:absolute;z-index:1"><div class="annotorious-popup-buttons"><a class="annotorious-popup-button annotorious-popup-button-edit" title="Edit" href="javascript:void(0);">EDIT</a><a class="annotorious-popup-button annotorious-popup-button-delete" title="Delete" href="javascript:void(0);">DELETE</a></div><span class="annotorious-popup-text"></span></div>'}
function af(){return'<div class="annotorious-editor" style="position:absolute;z-index:1"><form><textarea class="annotorious-editor-text" placeholder="Add a Comment..." tabindex="1"></textarea><div class="annotorious-editor-button-container"><a class="annotorious-editor-button annotorious-editor-button-cancel" href="javascript:void(0);" tabindex="3">Cancel</a><a class="annotorious-editor-button annotorious-editor-button-save" href="javascript:void(0);" tabindex="2">Save</a></div></form></div>'};function bf(a){function b(){var a=d.Ia;a.d()&&a.Oa()}this.element=Qd(af);this.e=a;this.Rd=a.getItem();this.Ia=new Oe("");this.Pd=K(".annotorious-editor-button-cancel",this.element)[0];this.Tc=K(".annotorious-editor-button-save",this.element)[0];var c;c=this.Tc;gb?c=c.parentElement:(c=c.parentNode,c=Bb(c)?c:m);this.Qd=c;this.Ya=[];var d=this;N(this.Pd,"click",function(b){b.preventDefault();a.stopSelection(d.$c);d.close()});N(this.Tc,"click",function(b){b.preventDefault();b=d.od();a.J(b);a.stopSelection();
d.$c?a.fireEvent("onAnnotationUpdated",b,a.getItem()):a.fireEvent("onAnnotationCreated",b,a.getItem());d.close()});U(this.element,n);a.element.appendChild(this.element);this.Ia.jb(K(".annotorious-editor-text",this.element)[0]);var f=this.element;c=document.createElement("div");Q(c,"position","absolute");Q(c,"top","0px");Q(c,"right","0px");Q(c,"width","5px");Q(c,"height","100%");Q(c,"cursor","e-resize");f.appendChild(c);var e=hd(f),e=ad(f).width-e.right-e.left;c=new id(c);c.wc=new Mc(e,0,800,0)||new Mc(NaN,
NaN,NaN,NaN);c.kd=function(a){Q(f,"width",a+"px");b&&b()}}s=bf.prototype;s.kc=function(a){var b=xb("div","annotorious-editor-field");u(a)?b.innerHTML=a:v(a)?this.Ya.push({D:b,qc:a}):Bb(a)&&b.appendChild(a);a=this.Qd;a.parentNode&&a.parentNode.insertBefore(b,a)};s.open=function(a){(this.vb=this.$c=a)&&this.Ia.sa(String(a.text));U(this.element,j);this.Ia.d().focus();C(this.Ya,function(b){var c=b.qc(a);u(c)?b.D.innerHTML=c:Bb(c)&&(zb(b.D),b.D.appendChild(c))});this.e.fireEvent("onEditorShown",a)};
s.close=function(){U(this.element,n);this.Ia.sa("")};s.setPosition=function(a){Qc(this.element,a.x,a.y)};s.od=function(){var a;a=this.Ia.d().value;var b=new Sd;(new Td).parse(new je(b,function(a){return a},i),a);a=b.toString();this.vb?this.vb.text=a:this.vb=new Hd(this.Rd.src,a,this.e.la().getShape());return this.vb};bf.prototype.addField=bf.prototype.kc;bf.prototype.getAnnotation=bf.prototype.od;function cf(a,b,c){var d=this;c||(c="Click and Drag to Annotate");this.element=Qd(df,{Mb:c});this.e=a;this.Xc=K(".annotorious-hint-msg",this.element)[0];this.Vc=K(".annotorious-hint-icon",this.element)[0];this.ic=function(){d.show()};this.hc=function(){ef(d)};this.Zb();ef(this);b.appendChild(this.element)}
cf.prototype.Zb=function(){var a=this;this.Zc=N(this.Vc,"mouseover",function(){a.show();window.clearTimeout(a.ec)});this.Yc=N(this.Vc,"mouseout",function(){ef(a)});this.e.addHandler("onMouseOverItem",this.ic);this.e.addHandler("onMouseOutOfItem",this.hc)};cf.prototype.wb=function(){O(this.Zc);O(this.Yc);this.e.Tb("onMouseOverItem",this.ic);this.e.Tb("onMouseOutOfItem",this.hc)};
cf.prototype.show=function(){window.clearTimeout(this.ec);T(this.Xc,0.8);var a=this;this.ec=window.setTimeout(function(){ef(a)},3E3)};function ef(a){window.clearTimeout(a.ec);T(a.Xc,0)}cf.prototype.destroy=function(){this.wb();delete this.Zc;delete this.Yc;delete this.ic;delete this.hc;Ab(this.element)};function ff(a){this.element=Qd($e);this.e=a;this.Sd=K(".annotorious-popup-text",this.element)[0];this.R=K(".annotorious-popup-buttons",this.element)[0];this.cc=n;this.Ya=[];var b=K(".annotorious-popup-button-edit",this.R)[0],c=K(".annotorious-popup-button-delete",this.R)[0],d=this;N(b,"mouseover",function(){ib(b,"annotorious-popup-button-active")});N(b,"mouseout",function(){kb(b,"annotorious-popup-button-active")});N(b,"click",function(){T(d.element,0);Q(d.element,"pointer-events","none");a.pc(d.f)});
N(c,"mouseover",function(){ib(c,"annotorious-popup-button-active")});N(c,"mouseout",function(){kb(c,"annotorious-popup-button-active")});N(c,"click",function(){a.fireEvent("beforeAnnotationRemoved",d.f)||(T(d.element,0),Q(d.element,"pointer-events","none"),a.A(d.f),a.fireEvent("onAnnotationRemoved",d.f))});gf&&(N(this.element,"mouseover",function(){window.clearTimeout(d.ac);0.9>(d.R.style[ya("opacity")]||"")&&T(d.R,0.9);d.clearHideTimer()}),N(this.element,"mouseout",function(){T(d.R,0);d.startHideTimer()}),
a.addHandler("onMouseOutOfItem",function(){d.startHideTimer()}));T(this.R,0);T(this.element,0);Q(this.element,"pointer-events","none");a.element.appendChild(this.element)}s=ff.prototype;s.kc=function(a){var b=xb("div","annotorious-popup-field");u(a)?b.innerHTML=a:v(a)?this.Ya.push({D:b,qc:a}):Bb(a)&&b.appendChild(a);this.element.appendChild(b)};
s.startHideTimer=function(){this.cc=n;if(!this.cb){var a=this;this.cb=window.setTimeout(function(){a.e.fireEvent("beforePopupHide",a);a.cc||(T(a.element,0),Q(a.element,"pointer-events","none"),T(a.R,0.9),delete a.cb)},150)}};s.clearHideTimer=function(){this.cc=j;this.cb&&(window.clearTimeout(this.cb),delete this.cb)};
s.show=function(a,b){this.clearHideTimer();b&&this.setPosition(b);a&&this.setAnnotation(a);this.ac&&window.clearTimeout(this.ac);T(this.R,0.9);if(gf){var c=this;this.ac=window.setTimeout(function(){T(c.R,0)},1E3)}T(this.element,0.9);Q(this.element,"pointer-events","auto");this.e.fireEvent("onPopupShown",this.f)};s.setPosition=function(a){Qc(this.element,new J(a.x,a.y))};
s.setAnnotation=function(a){this.f=a;this.Sd.innerHTML=a.text?a.text.replace(/\n/g,"<br/>"):'<span class="annotorious-popup-empty">No comment</span>';"editable"in a&&a.editable==n?U(this.R,n):U(this.R,j);C(this.Ya,function(b){var c=b.qc(a);u(c)?b.D.innerHTML=c:Bb(c)&&(zb(b.D),b.D.appendChild(c))})};ff.prototype.addField=ff.prototype.kc;function hf(){}s=hf.prototype;s.J=function(a,b){this.h.J(a,b)};s.addHandler=function(a,b){this.w.addHandler(a,b)};s.fireEvent=function(a,b,c){return this.w.fireEvent(a,b,c)};s.la=r("v");s.o=function(a){this.h.o(a)};s.A=function(a){this.h.A(a)};s.Tb=function(a,b){this.w.Tb(a,b)};s.stopSelection=function(a){gf&&U(this.c,n);this.eb&&(this.eb(),delete this.eb);this.v.stopSelection();a&&this.h.J(a)};
function jf(a,b){N(b,kf,function(c){console.log("start selection event");console.log(c);c=lf(c,b);a.h.o(n);a.yb?(U(a.c,j),a.v.startSelection(c.x,c.y)):(c=a.h.mb(c.x,c.y),0<c.length&&a.h.o(c[0]))})};function mf(a,b){this.S=a;this.e=b;this.Ea=[];this.aa=[];this.ua=this.S.getContext("2d");this.ta=j;this.xb=n;var c=this;N(this.S,nf,function(a){if(c.ta){var b=of(c,a.offsetX,a.offsetY);b?(c.xb=c.xb&&b==c.f,c.f?c.f!=b&&(c.ta=n,c.e.popup.startHideTimer()):(c.f=b,pf(c),c.e.fireEvent("onMouseOverAnnotation",{C:c.f,mouseEvent:a}))):!c.xb&&c.f&&(c.ta=n,c.e.popup.startHideTimer())}else c.Xa=a});N(this.S,kf,function(){c.f!==i&&c.f!=n&&c.e.fireEvent("onAnnotationClicked",c.f)});b.addHandler("onMouseOutOfItem",
function(){delete c.f;c.ta=j});b.addHandler("beforePopupHide",function(){if(!c.ta&&c.Xa){var a=c.f;c.f=of(c,c.Xa.offsetX,c.Xa.offsetY);c.ta=j;a!=c.f?(pf(c),c.e.fireEvent("onMouseOutOfAnnotation",{C:a,mouseEvent:c.Xa}),c.e.fireEvent("onMouseOverAnnotation",{C:c.f,mouseEvent:c.Xa})):c.f&&c.e.popup.clearHideTimer()}else pf(c)})}s=mf.prototype;
s.J=function(a,b){b&&(b==this.f&&delete this.f,D(this.Ea,b),delete this.aa[Gd(b.shapes[0])]);this.Ea.push(a);var c=a.shapes[0];if("pixel"!=c.units)var d=this,c=Fd(c,function(a){return d.e.ya(a)});this.aa[Gd(a.shapes[0])]=c;pf(this)};s.A=function(a){a==this.f&&delete this.f;D(this.Ea,a);delete this.aa[Gd(a.shapes[0])];pf(this)};s.t=function(){return Fa(this.Ea)};s.o=function(a){(this.f=a)?this.xb=j:this.e.popup.startHideTimer();pf(this);this.ta=j;console.warn(a);this.e.fireEvent(td.oe,this.f)};
function of(a,b,c){a=a.mb(b,c);if(0<a.length)return a[0]}
s.mb=function(a,b){var c=[],d=this;C(this.Ea,function(f){var e;e=d.aa[Gd(f.shapes[0])];if("rect"==e.type)e=a<e.geometry.x||b<e.geometry.y||a>e.geometry.x+e.geometry.width||b>e.geometry.y+e.geometry.height?n:j;else if("polygon"==e.type){e=e.geometry.points;for(var h=n,k=e.length-1,l=0;l<e.length;l++)e[l].y>b!=e[k].y>b&&a<(e[k].x-e[l].x)*(b-e[l].y)/(e[k].y-e[l].y)+e[l].x&&(h=!h),k=l;e=h}else e=n;e&&c.push(f)});B.sort.call(c,function(a,b){var c=d.aa[Gd(a.shapes[0])],k=d.aa[Gd(b.shapes[0])];return Cd(c)-
Cd(k)}||Ia);return c};function qf(a,b,c){var d=Da(a.e.ma(),function(a){return a.getSupportedShapeType()==b.type});d?d.drawShape(a.ua,b,c):console.log("WARNING unsupported shape type: "+b.type)}
function pf(a){a.ua.clearRect(0,0,a.S.width,a.S.height);C(a.Ea,function(b){b!=a.f&&qf(a,a.aa[Gd(b.shapes[0])])});if(a.f){var b=a.aa[Gd(a.f.shapes[0])];qf(a,b,j);var c=Dd(b).geometry;b.nvPopupWidth!=i&&c.x>a.S.width/2?a.e.popup.show(a.f,new W(c.x-10-parseInt(b.nvPopupWidth),c.y)):a.e.popup.show(a.f,new W(c.x+c.width+5,c.y))}};var rf="ontouchstart"in window,gf=!rf,kf=rf?"touchstart":"mousedown",sf=rf?"touchenter":"mouseover",nf=rf?"touchmove":"mousemove",tf=rf?"touchend":"mouseup",uf=rf?"touchleave":"mouseout";function lf(a,b){var c=n;a.offsetX=a.offsetX?a.offsetX:n;a.offsetY=a.offsetY?a.offsetY:n;return c=(!a.offsetX||!a.offsetY)&&a.n.changedTouches?{x:a.n.changedTouches[0].clientX-rd(b).left,y:a.n.changedTouches[0].clientY-rd(b).top}:{x:a.offsetX,y:a.offsetY}};function vf(){}s=vf.prototype;s.init=function(a,b){this.Pc="#000000";this.Rc="#ffffff";this.Jc=n;this.Lc="#000000";this.Nc="#fff000";this.Kc=n;this.Mc=this.Sc=this.Qc=1;this.Oc=1.2;this.S=b;this.e=a;this.ua=b.getContext("2d");this.ua.lineWidth=1;this.dc=n};
s.Zb=function(){var a=this,b=this.S;this.fc=N(this.S,nf,function(c){console.log(c);c=lf(c,b);if(a.dc){a.B={x:c.x,y:c.y};a.ua.clearRect(0,0,b.width,b.height);var c=a.B.x-a.L.x,d=a.B.y-a.L.y;a.drawShape(a.ua,{type:"rect",geometry:{x:0<c?a.L.x:a.B.x,y:0<d?a.L.y:a.B.y,width:Math.abs(c),height:Math.abs(d)},style:{}})}});this.gc=N(b,tf,function(c){var d=lf(c,b),f=a.getShape(),c=c.n?c.n:c;a.dc=n;f?(a.wb(),a.e.fireEvent("onSelectionCompleted",{mouseEvent:c,shape:f,viewportBounds:a.getViewportBounds()})):
(a.e.fireEvent("onSelectionCanceled"),c=a.e.mb(d.x,d.y),0<c.length&&a.e.o(c[0]))})};s.wb=function(){this.fc&&(O(this.fc),delete this.fc);this.gc&&(O(this.gc),delete this.gc)};s.getName=aa("rect_drag");s.getSupportedShapeType=aa("rect");
s.ga=function(a){a.hasOwnProperty("outline")&&(this.Pc=a.outline);a.hasOwnProperty("stroke")&&(this.Rc=a.stroke);a.hasOwnProperty("fill")&&(this.Jc=a.fill);a.hasOwnProperty("hi_outline")&&(this.Lc=a.hi_outline);a.hasOwnProperty("hi_stroke")&&(this.Nc=a.hi_stroke);a.hasOwnProperty("hi_fill")&&(this.Kc=a.hi_fill);a.hasOwnProperty("outline_width")&&(this.Qc=a.outline_width);a.hasOwnProperty("stroke_width")&&(this.Sc=a.stroke_width);a.hasOwnProperty("hi_outline_width")&&(this.Mc=a.hi_outline_width);a.hasOwnProperty("hi_stroke_width")&&
(this.Oc=a.hi_stroke_width)};s.startSelection=function(a,b){var c={x:a,y:b};this.dc=j;this.Zb(c);this.L=new W(a,b);this.e.fireEvent("onSelectionStarted",{offsetX:a,offsetY:b});Q(document.body,"-webkit-user-select","none")};s.stopSelection=function(){this.wb();this.ua.clearRect(0,0,this.S.width,this.S.height);Q(document.body,"-webkit-user-select","auto");delete this.B};
s.getShape=function(){if(this.B&&3<Math.abs(this.B.x-this.L.x)&&3<Math.abs(this.B.y-this.L.y)){var a=this.getViewportBounds(),a=this.e.Xb({x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top});return new Bd("rect",a)}};s.getViewportBounds=function(){var a,b;this.B.x>this.L.x?(a=this.B.x,b=this.L.x):(a=this.L.x,b=this.B.x);var c,d;this.B.y>this.L.y?(c=this.L.y,d=this.B.y):(c=this.B.y,d=this.L.y);return{top:c,right:a,bottom:d,left:b}};
s.drawShape=function(a,b,c){var d,f,e,h;b.style||(b.style={});"rect"==b.type&&(c?(d=b.style.hi_fill||this.Kc,c=b.style.hi_stroke||this.Nc,f=b.style.hi_outline||this.Lc,e=b.style.hi_outline_width||this.Mc,h=b.style.hi_stroke_width||this.Oc):(d=b.style.fill||this.Jc,c=b.style.stroke||this.Rc,f=b.style.outline||this.Pc,e=b.style.outline_width||this.Qc,h=b.style.stroke_width||this.Sc),b=b.geometry,f&&(a.lineJoin="round",a.lineWidth=e,a.strokeStyle=f,a.strokeRect(b.x+e/2,b.y+e/2,b.width-e,b.height-e)),
c&&(a.lineJoin="miter",a.lineWidth=h,a.strokeStyle=c,a.strokeRect(b.x+e+h/2,b.y+e+h/2,b.width-2*e-h,b.height-2*e-h)),d&&(a.lineJoin="miter",a.lineWidth=h,a.fillStyle=d,a.fillRect(b.x+e+h/2,b.y+e+h/2,b.width-2*e-h,b.height-2*e-h)))};function wf(a){return'<canvas class="annotorious-item annotorious-opacity-fade" style="position:absolute; top:0px; left:0px; width:'+We(a.width)+"px; height:"+We(a.height)+'px; z-index:0" width="'+We(a.width)+'" height="'+We(a.height)+'"></canvas>'}
function df(a){return'<div class="annotorious-hint" style="white-space:nowrap; position:absolute; top:0px; left:0px; pointer-events:none;"><div class="annotorious-hint-msg annotorious-opacity-fade">'+We(a.Mb)+'</div><div class="annotorious-hint-icon" style="pointer-events:auto"></div></div>'};function xf(a,b){function c(b,c){Q(d,"margin-"+b,c+"px");Q(a,"margin-"+b,0);Q(a,"padding-"+b,0)}this.$=a;this.ad={padding:a.style.padding,margin:a.style.margin};this.w=new sd;this.ia=[];this.yb=j;this.element=xb("div","annotorious-annotationlayer");Q(this.element,"position","relative");Q(this.element,"display","inline-block");var d=this.element,f=ed(a,"margin"),e=ed(a,"padding");(0!=f.top||0!=e.top)&&c("top",f.top+e.top);(0!=f.right||0!=e.right)&&c("right",f.right+e.right);(0!=f.bottom||0!=e.bottom)&&
c("bottom",f.bottom+e.bottom);(0!=f.left||0!=e.left)&&c("left",f.left+e.left);(f=a.parentNode)&&f.replaceChild(this.element,a);this.element.appendChild(a);f=ad(a);this.ja=Qd(wf,{width:f.width,height:f.height});gf&&ib(this.ja,"annotorious-item-unfocus");this.element.appendChild(this.ja);this.c=Qd(wf,{width:f.width,height:f.height});gf&&U(this.c,n);this.element.appendChild(this.c);this.popup=b?b:new ff(this);f=new vf;f.init(this,this.c);this.ia.push(f);this.v=f;this.editor=new bf(this);this.h=new mf(this.ja,
this);this.$a=new cf(this,this.element);var h=this;gf&&(N(this.element,sf,function(a){a=a.relatedTarget;if(!a||!Cb(h.element,a))h.w.fireEvent("onMouseOverItem"),mb(h.ja,"annotorious-item-unfocus","annotorious-item-focus")}),N(this.element,uf,function(a){a=a.relatedTarget;if(!a||!Cb(h.element,a))h.w.fireEvent("onMouseOutOfItem"),mb(h.ja,"annotorious-item-focus","annotorious-item-unfocus")}));jf(this,rf?this.c:this.ja);this.w.addHandler("onSelectionCompleted",function(a){var b=a.viewportBounds;h.editor.setPosition(new W(b.left+
h.$.offsetLeft,b.bottom+4+h.$.offsetTop));h.editor.open(n,a)});this.w.addHandler("onSelectionCanceled",function(){gf&&U(h.c,n);h.v.stopSelection()})}z(xf,hf);s=xf.prototype;s.ba=p();s.cd=function(a){a.init(this,this.c);this.ia.push(a)};s.destroy=function(){var a=this.$;a.style.margin=this.ad.margin;a.style.padding=this.ad.padding;var b=this.element,c=b.parentNode;c&&c.replaceChild(a,b)};
s.pc=function(a){this.h.A(a);var b=Da(this.ia,function(b){return b.getSupportedShapeType()==a.shapes[0].type});if(b){U(this.c,j);this.h.o(n);var c=this.c.getContext("2d"),d=a.shapes[0],f=this,d="pixel"==d.units?d:Fd(d,function(a){return f.ya(a)});b.drawShape(c,d)}b=Dd(a.shapes[0]).geometry;b="pixel"==a.shapes[0].units?new W(b.x,b.y+b.height):this.ya(new W(b.x,b.y+b.height));this.editor.setPosition(new W(b.x+this.$.offsetLeft,b.y+4+this.$.offsetTop));this.editor.open(a)};
s.ya=function(a){var b=Zc(this.$);return a.width?{x:a.x*b.width,y:a.y*b.height,width:a.width*b.width,height:a.height*b.height}:{x:a.x*b.width,y:a.y*b.height}};s.la=r("v");s.t=function(){return this.h.t()};s.mb=function(a,b){return Fa(this.h.mb(a,b))};s.ma=r("ia");s.getItem=function(){return{src:yf(this.$),element:this.$}};function yf(a){var b=a.getAttribute("data-original");return b?b:a.src}s.ea=function(){U(this.ja,n)};s.N=function(){this.yb=n;this.$a&&(this.$a.destroy(),delete this.$a)};
s.Jd=function(a){(this.v=Da(this.ia,function(b){return b.getName()==a}))||console.log('WARNING: selector "'+a+'" not available')};s.ga=function(a){C(this.ia,function(b){b.ga(a)});pf(this.h)};s.Da=function(){U(this.ja,j)};s.Z=function(){this.yb=j;this.$a||(this.$a=new cf(this,this.element))};s.stopSelection=function(a){gf&&U(this.c,n);this.v.stopSelection();a&&this.h.J(a)};
s.Xb=function(a){var b=Zc(this.$);return a.width?{x:a.x/b.width,y:a.y/b.height,width:a.width/b.width,height:a.height/b.height}:{x:a.x/b.width,y:a.y/b.height}};xf.prototype.addSelector=xf.prototype.cd;xf.prototype.fireEvent=xf.prototype.fireEvent;xf.prototype.setCurrentSelector=xf.prototype.Jd;xf.prototype.toItemCoordinates=xf.prototype.Xb;function zf(){Jd(this,function(){return K("img.annotatable",document)})}z(zf,Id);zf.prototype.Fb=function(a){return yf(a)};zf.prototype.zc=function(a){return new xf(a)};zf.prototype.Wb=function(a){return Bb(a)?"IMG"==a.tagName:n};function Af(a){return'<div class="annotorious-opacity-fade" style="white-space:nowrap; position:absolute; pointer-events:none; top:80px; width:100%; text-align:center;"><div class="annotorious-ol-hint" style="width: 400px; margin:0px auto;">'+We(a.Mb)+"</dvi></div>"};function Bf(a,b){this.X=a;this.T=ad(b.element);this.k=b.popup;Q(this.k.element,"z-index",99E3);this.z=[];this.tb=new OpenLayers.Layer.Boxes("Annotorious");this.X.addLayer(this.tb);var c=this;this.X.events.register("move",this.X,function(){c.I&&c.ab()});b.addHandler("beforePopupHide",function(){c.va==c.I?c.k.clearHideTimer():c.fb(c.va,c.I)})}s=Bf.prototype;s.destroy=function(){this.tb.destroy()};
s.ab=function(){var a=this.I.Lb.div,b=ad(a),c=Vc(a,this.X.div),a=c.y,c=c.x,d=b.width,f=b.height,b=ad(this.k.element),a={y:a+f+5};c+b.width>this.T.width?(mb(this.k.element,"top-left","top-right"),a.x=c+d-b.width):(mb(this.k.element,"top-right","top-left"),a.x=c);0>a.x&&(a.x=0);a.x+b.width>this.T.width&&(a.x=this.T.width-b.width);a.y+b.height>this.T.height&&(a.y=this.T.height-b.height);this.k.setPosition(a)};s.jc=function(a){this.k.setAnnotation(a);this.ab();this.k.show()};
s.fb=function(a,b){a?(Vc(a.Lb.div,this.X.div),ya("height"),Q(a.qb,"border-color","#fff000"),this.I=a,this.jc(a.C)):delete this.I;b&&Q(b.qb,"border-color","#fff")};
s.J=function(a){var b=a.shapes[0].geometry,b=new OpenLayers.Marker.Box(new OpenLayers.Bounds(b.x,b.y,b.x+b.width,b.y+b.height));ib(b.div,"annotorious-ol-boxmarker-outer");Q(b.div,"border",m);var c=xb("div","annotorious-ol-boxmarker-inner");Yc(c,"100%","100%");b.div.appendChild(c);var d={C:a,Lb:b,qb:c},f=this;N(c,"mouseover",function(){f.I||f.fb(d);f.va=d});N(c,"mouseout",function(){delete f.va;f.k.startHideTimer()});this.z.push(d);B.sort.call(this.z,function(a,b){return Cd(b.C.shapes[0])-Cd(a.C.shapes[0])}||
Ia);var e=1E4;C(this.z,function(a){Q(a.Lb.div,"z-index",e);e++});this.tb.addMarker(b)};s.A=function(a){var b=Da(this.z,function(b){return b.C==a});b&&(D(this.z,b),this.tb.removeMarker(b.Lb))};s.t=function(){return Ba(this.z,function(a){return a.C})};s.o=function(a){a||this.k.startHideTimer()};function Cf(a){function b(){var a=parseInt(R(d.element,"width"),10),b=parseInt(R(d.element,"height"),10);Yc(d.c,a,b);d.c.width=a;d.c.height=b}this.X=a;this.element=a.div;var c=this.element.style[ya("position")]||"";"absolute"!=c&&"relative"!=c&&Q(this.element,"position","relative");this.w=new sd;this.V=Qd(Af,{Mb:"Click and Drag"});Q(this.V,"z-index",9998);T(this.V,0);this.element.appendChild(this.V);this.popup=new ff(this);this.h=new Bf(a,this);this.c=Qd(wf,{width:"0",height:"0"});U(this.c,n);Q(this.c,
"position","absolute");Q(this.c,"top","0px");Q(this.c,"z-index",9999);this.element.appendChild(this.c);var d=this;b();this.v=new vf;this.v.init(this,this.c);this.eb=i;this.editor=new bf(this);Q(this.editor.element,"z-index",1E4);window.addEventListener?window.addEventListener("resize",b,n):window.attachEvent&&window.attachEvent("onresize",b);N(this.element,"mouseover",function(a){a=a.relatedTarget;(!a||!Cb(d.element,a))&&d.w.fireEvent("onMouseOverItem")});N(this.element,"mouseout",function(a){a=a.relatedTarget;
(!a||!Cb(d.element,a))&&d.w.fireEvent("onMouseOutOfItem")});N(this.c,"mousedown",function(a){var b=Wc(d.element);d.v.startSelection(a.clientX-b.x,a.clientY-b.y)});this.w.addHandler("onSelectionCompleted",function(a){Q(d.c,"pointer-events","none");a=a.viewportBounds;d.editor.setPosition(new W(a.left,a.bottom+4));d.editor.open()});this.w.addHandler("onSelectionCanceled",function(){d.stopSelection()})}z(Cf,hf);s=Cf.prototype;s.Z=p();s.N=p();
s.ba=function(a){Q(this.c,"pointer-events","auto");var b=this;U(this.c,j);T(this.V,0.8);window.setTimeout(function(){T(b.V,0)},2E3);a&&(this.eb=a)};s.destroy=function(){this.h.destroy();Ab(this.V);Ab(this.c)};s.cd=p();s.pc=function(a){this.h.A(a);var b=this.v,c=this;if(b){U(this.c,j);this.h.o(i);var d=this.c.getContext("2d"),f=Fd(a.shapes[0],function(a){return c.ya(a)});console.log(f);b.drawShape(d,f);b=Dd(f).geometry;this.editor.setPosition(new W(b.x,b.y+b.height));this.editor.open(a)}};
s.ya=function(a){var b=this.X.getViewPortPxFromLonLat(new OpenLayers.LonLat(a.x,a.y));return(a=a.width?this.X.getViewPortPxFromLonLat(new OpenLayers.LonLat(a.x+a.width,a.y+a.height)):n)?{x:b.x,y:a.y,width:a.x-b.x+2,height:b.y-a.y+2}:{x:b.x,y:b.y}};s.t=function(){return this.h.t()};s.ma=p();s.getItem=function(){return{src:"map://openlayers/something"}};s.sb=p();
s.Xb=function(a){var b=this.X.getLonLatFromPixel(new OpenLayers.Pixel(a.x,a.y));return(a=a.width?new OpenLayers.Pixel(a.x+a.width-2,a.y+a.height-2):n)?(a=this.X.getLonLatFromPixel(a),b={x:b.lon,y:a.lat,width:a.lon-b.lon,height:b.lat-a.lat},console.log(b),b):{x:b.lon,y:b.lat}};function Df(){Jd(this)}z(Df,Id);Df.prototype.Fb=aa("map://openlayers/something");Df.prototype.zc=function(a){return new Cf(a)};Df.prototype.Wb=function(a){return a instanceof OpenLayers.Map};function Ef(a,b){this.U=a;this.T=ad(a.element);this.k=b.popup;Q(this.k.element,"z-index",99E3);this.z=[];var c=this;this.U.addHandler("animation",function(){c.I&&c.ab()});b.addHandler("beforePopupHide",function(){c.va==c.I?c.k.clearHideTimer():c.fb(c.va,c.I)})}s=Ef.prototype;
s.ab=function(){var a=this.U.element,b=this.I.Rb,c=ad(b),b=Vc(b,a),a=b.y,b=b.x,d=c.width,f=c.height,c=ad(this.k.element),a={x:b,y:a+f+12};mb(this.k.element,"top-right","top-left");this.U.isFullPage()||(b+c.width>this.T.width&&(mb(this.k.element,"top-left","top-right"),a.x=b+d-c.width),0>a.x&&(a.x=0),a.x+c.width>this.T.width&&(a.x=this.T.width-c.width),a.y+c.height>this.T.height&&(a.y=this.T.height-c.height));this.k.setPosition(a)};s.jc=function(a){this.k.setAnnotation(a);this.ab();this.k.show()};
s.fb=function(a,b){a?(Q(a.qb,"border-color","#fff000"),this.I=a,this.jc(a.C)):delete this.I;b&&Q(b.qb,"border-color","#fff")};
s.J=function(a){var b=a.shapes[0].geometry,c=xb("div","annotorious-ol-boxmarker-outer"),d=xb("div","annotorious-ol-boxmarker-inner");Yc(d,"100%","100%");c.appendChild(d);var b=new OpenSeadragon.Rect(b.x,b.y,b.width,b.height),f={C:a,Rb:c,qb:d},e=this;N(d,"mouseover",function(){e.I||e.fb(f);e.va=f});N(d,"mouseout",function(){delete e.va;e.k.startHideTimer()});this.z.push(f);B.sort.call(this.z,function(a,b){return Cd(b.C.shapes[0])-Cd(a.C.shapes[0])}||Ia);var h=1;C(this.z,function(a){Q(a.Rb,"z-index",
h);h++});this.U.drawer.addOverlay(c,b)};s.A=function(a){var b=Da(this.z,function(b){return b.C==a});b&&(D(this.z,b),this.U.drawer.removeOverlay(b.Rb))};s.t=function(){return Ba(this.z,function(a){console.log(a);return a.C})};s.o=p();s.destroy=function(){var a=this;C(this.z,function(b){a.U.removeOverlay(b.Rb)});this.z=[]};function Ff(a){this.element=a.element;var b=document;b.querySelectorAll&&b.querySelector?b=b.querySelector(".openseadragon-container"):(b=document,b=(b.querySelectorAll&&b.querySelector?b.querySelectorAll(".openseadragon-container"):b.getElementsByClassName?b.getElementsByClassName("openseadragon-container"):ub())[0]);Q(b||m,"z-index",0);this.U=a;this.w=new sd;this.ia=[];this.yb=j;this.V=Qd(Af,{Mb:"Click and Drag"});T(this.V,0);this.element.appendChild(this.V);this.popup=new ff(this);this.h=new Ef(a,
this);this.c=Qd(wf,{width:"0",height:"0"});U(this.c,n);this.element.appendChild(this.c);var c=this,a=parseInt(R(c.element,"width"),10),b=parseInt(R(c.element,"height"),10);Yc(c.c,a,b);c.c.width=a;c.c.height=b;a=new vf;a.init(this,this.c);this.ia.push(a);this.v=a;this.editor=new bf(this);jf(this,this.c);this.w.addHandler("onSelectionCompleted",function(a){a=a.viewportBounds;c.editor.setPosition(new W(a.left,a.bottom+4));c.editor.open()});this.w.addHandler("onSelectionCanceled",function(){c.stopSelection()})}
z(Ff,hf);s=Ff.prototype;s.Z=p();s.N=p();s.destroy=function(){this.h.destroy();delete this.h};s.ba=function(a){Q(this.c,"pointer-events","auto");var b=this;U(this.c,j);T(this.V,0.8);window.setTimeout(function(){T(b.V,0)},2E3);a&&(this.eb=a)};s.pc=function(a){this.h.A(a);var b=this.v,c=this;if(b){U(this.c,j);this.h.o(i);var d=this.c.getContext("2d"),f=Fd(a.shapes[0],function(a){return c.ya(a)});b.drawShape(d,f);b=Dd(f).geometry;this.editor.setPosition(new W(b.x,b.y+b.height+4));this.editor.open(a)}};
s.ya=function(a){var b=rd(this.element);b.top+=window.pageYOffset;b.left+=window.pageXOffset;var c=new OpenSeadragon.Point(a.x,a.y),a=a.width?new OpenSeadragon.Point(a.x+a.width,a.y+a.height):n,c=this.U.viewport.viewportToWindowCoordinates(c);return a?(a=this.U.viewport.viewportToWindowCoordinates(a),{x:c.x-b.left,y:c.y-b.top,width:a.x-c.x+2,height:a.y-c.y+2}):c};s.t=function(){return this.h.t()};s.ma=p();s.getItem=function(){return{src:"dzi://openseadragon/something"}};s.sb=p();s.la=r("v");
s.Xb=function(a){var b=rd(this.element);b.top+=window.pageYOffset;b.left+=window.pageXOffset;var c=new OpenSeadragon.Point(a.x+b.left,a.y+b.top),a=a.width?new OpenSeadragon.Point(a.x+b.left+a.width-2,a.y+b.top+a.height-2):n,c=this.U.viewport.windowToViewportCoordinates(c);return a?(a=this.U.viewport.windowToViewportCoordinates(a),{x:c.x,y:c.y,width:a.x-c.x,height:a.y-c.y}):c};function Gf(){Jd(this)}z(Gf,Id);Gf.prototype.Fb=aa("dzi://openseadragon/something");Gf.prototype.zc=function(a){return new Ff(a)};Gf.prototype.Wb=function(a){return!a.id||0!=a.id.indexOf("openseadragon")||!a.hasOwnProperty("drawer")?n:j};function Y(){function a(){Hf(b)}this.Wc=n;this.l=[new zf];window.OpenLayers&&this.l.push(new Df);window.OpenSeadragon&&this.l.push(new Gf);this.bb=[];var b=this;window.addEventListener?window.addEventListener("load",a,n):window.attachEvent&&window.attachEvent("onload",a)}function Hf(a){a.Wc||(C(a.l,function(a){a.init()}),C(a.bb,function(b){b.initPlugin&&b.initPlugin(a);C(a.l,function(a){a.zb(b)})}),a.Wc=j)}function Z(a,b){return Da(a.l,function(a){return Pd(a,b)})}s=Y.prototype;
s.ba=function(a,b){var c=i,d=i;u(a)?(c=a,d=b):v(a)&&(d=a);if(c){var f=Z(this,c);f&&f.ba(c,d)}else C(this.l,function(a){a.ba(d)})};s.J=function(a,b){var c;c=a.src;if(!(0<c.indexOf("://"))){var d=document.createElement("a");d.href=c;c=d.protocol+"//"+d.host+d.pathname}a.src=c;(c=Z(this,a.src))&&c.J(a,b)};s.addHandler=function(a,b){C(this.l,function(c){c.addHandler(a,b)})};
s.zb=function(a,b){try{var c=new window.annotorious.plugin[a](b);"complete"==document.readyState?(c.initPlugin&&c.initPlugin(this),C(this.l,function(a){a.zb(c)})):this.bb.push(c)}catch(d){console.log("Could not load plugin: "+a)}};s.destroy=function(a){if(a){var b=Z(this,a);b&&b.destroy(a)}else C(this.l,function(a){a.destroy()})};s.la=function(a){var b=Z(this,a);if(b)return b.la(a)};s.t=function(a){if(a){var b=Z(this,a);return b?b.t(a):[]}var c=[];C(this.l,function(a){Ga(c,a.t())});return c};
s.ma=function(a){var b=Z(this,a);return b?b.ma(a):[]};s.ea=function(a){if(a){var b=Z(this,a);b&&b.ea(a)}else C(this.l,function(a){a.ea()})};s.N=function(a){if(a){var b=Z(this,a);b&&b.N(a)}else C(this.l,function(a){a.N()})};s.stopSelection=function(a){if(a){var b=Z(this,a);b&&b.stopSelection(a)}else C(this.l,function(a){a.stopSelection()})};s.o=function(a){if(a){var b=Z(this,a.src);b&&b.o(a)}else C(this.l,function(a){a.o()})};
s.xc=function(a){Hf(this);var b=Da(this.l,function(b){return b.Wb(a)});b?b.xc(a):g("Error: Annotorious does not support this media type in the current version or build configuration.")};s.Sb=function(a){var b=this;C(this.t(a),function(a){b.A(a)})};s.A=function(a){var b=Z(this,a.src);b&&b.A(a)};s.reset=function(){C(this.l,function(a){a.destroy();a.init()})};s.sb=function(a,b){var c=Z(this,a);c&&c.sb(a,b)};s.ga=function(a){C(this.l,function(b){b.ga(a)})};s.ke=function(a){a?this.Z(i):this.N(i)};
s.Da=function(a){if(a){var b=Z(this,a);b&&b.Da(a)}else C(this.l,function(a){a.Da()})};s.Z=function(a){if(a){var b=Z(this,a);b&&b.Z(a)}else C(this.l,function(a){a.Z()})};window.anno=new Y;Y.prototype.activateSelector=Y.prototype.ba;Y.prototype.addAnnotation=Y.prototype.J;Y.prototype.addHandler=Y.prototype.addHandler;Y.prototype.addPlugin=Y.prototype.zb;Y.prototype.destroy=Y.prototype.destroy;Y.prototype.getActiveSelector=Y.prototype.la;Y.prototype.getAnnotations=Y.prototype.t;Y.prototype.getAvailableSelectors=Y.prototype.ma;Y.prototype.hideAnnotations=Y.prototype.ea;Y.prototype.hideSelectionWidget=Y.prototype.N;Y.prototype.highlightAnnotation=Y.prototype.o;
Y.prototype.makeAnnotatable=Y.prototype.xc;Y.prototype.removeAll=Y.prototype.Sb;Y.prototype.removeAnnotation=Y.prototype.A;Y.prototype.reset=Y.prototype.reset;Y.prototype.setActiveSelector=Y.prototype.sb;Y.prototype.setProperties=Y.prototype.ga;Y.prototype.showAnnotations=Y.prototype.Da;Y.prototype.showSelectionWidget=Y.prototype.Z;window.annotorious||(window.annotorious={});window.annotorious.plugin||(window.annotorious.plugin={});
window.annotorious.geometry||(window.annotorious.geometry={},window.annotorious.geometry.expand=Ed,window.annotorious.geometry.getBoundingRect=Dd);Y.prototype.setSelectionEnabled=Y.prototype.ke;
